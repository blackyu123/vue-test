{"remainingRequest":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\pages\\Event.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\pages\\Event.vue","mtime":1557851130777},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552619058231},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\babel-loader\\lib\\index.js","mtime":1552619052419},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552619058231},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1552619058571}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\jessi\\\\Documents\\\\git\\\\vue-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DataSource from \"../data/datasource\";\nimport Cookies from \"js-cookie\";\nimport Vue from 'vue';\nimport VCalendar from \"v-calendar\";\nVue.use(VCalendar, {\n  componentPrefix: 'v' // Use <vc-calendar /> instead of <v-calendar />\n  // ...,                // ...other defaults\n\n});\nexport default {\n  name: \"Event\",\n  components: {// VCalendar,\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.LoadEventDetails();\n\n            case 2:\n              _context.next = 4;\n              return this.BindParticipantList();\n\n            case 4:\n              _context.next = 6;\n              return this.getLevelSpecificSchool();\n\n            case 6:\n              this.sessionID = Cookies.get('userIDSession');\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  data: function data() {\n    return {\n      ddlParticipant: '',\n      selectedParticipantList: [],\n      textareaParticipantEmail: '',\n      rdEventType: 'Event',\n      eventList: [],\n      levelList: [],\n      ParticipantList: [],\n      inputEventStartTime: '',\n      inputEventEndTime: '',\n      optFullDayEvent: false,\n      optParentSignUp: false,\n      inputEventRegCutOffDay: '0',\n      inputEventRegLimit: '0',\n      inputEventTitle: '',\n      inputEventLocation: '',\n      inputEventDesc: '',\n      ddlClassLevel: '',\n      //v-calendar\n      inputVCalendar: '',\n      mode: 'single',\n      selectedDate: null,\n      sessionID: '',\n      lblNewEditCalendar: ''\n    };\n  },\n  methods: {\n    BindEventFields: function () {\n      var _BindEventFields = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(resultTable) {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                try {\n                  resultTable.forEach(function (m) {\n                    _this.inputEventTitle = m.EventTitle;\n                    _this.rdEventType = m.EventType;\n                    _this.inputEventStartTime = m.EventStartTime;\n                    _this.inputEventEndTime = m.EventEndTime;\n                    _this.inputEventRegLimit = m.EventRegLimit;\n                    _this.inputEventRegCutOffDay = m.EventRegCutOffDay;\n                    _this.inputEventLocation = m.EventLocation;\n\n                    if (m.EventFullDay === 'Yes') {\n                      _this.optFullDayEvent = true;\n                    }\n\n                    ;\n\n                    if (m.EventParentSignUp === 'Yes') {\n                      _this.optParentSignUp = true;\n                    }\n\n                    ;\n                  });\n                } catch (e) {\n                  this.results = e;\n                }\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function BindEventFields(_x) {\n        return _BindEventFields.apply(this, arguments);\n      }\n\n      return BindEventFields;\n    }(),\n    editEvent: function () {\n      var _editEvent = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(eventID) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return DataSource.shared.getEvent(eventID);\n\n              case 3:\n                response = _context3.sent;\n\n                if (response === '88') {\n                  window.location.replace('/');\n                } else if (response === '99') {\n                  console.log('Cannot get event');\n                } else if (response === '2') {\n                  console.log('invalid ID');\n                  window.location.replace('/');\n                } else {\n                  this.BindEventFields(response.Table);\n                  this.$refs['EventShowModal'].show();\n                  console.log(eventID);\n                }\n\n                this.eventNewEdit('Edit');\n                _context3.next = 12;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3[\"catch\"](0);\n                alert(_context3.t0);\n                console.log(_context3.t0);\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 8]]);\n      }));\n\n      function editEvent(_x2) {\n        return _editEvent.apply(this, arguments);\n      }\n\n      return editEvent;\n    }(),\n    AddParticipantList: function AddParticipantList() {\n      console.log(this.selectedParticipantList);\n      console.log(JSON.stringify(this.selectedParticipantList));\n\n      try {\n        if (this.ddlParticipant !== '') {\n          var addNewRowList = {\n            participantID: this.ddlParticipant\n          };\n          this.selectedParticipantList.push(addNewRowList);\n        } else {\n          this.$notify.error({\n            title: 'Error',\n            message: 'Please select'\n          });\n        }\n      } catch (e) {\n        alert(e);\n        console.log(e);\n      }\n    },\n    getLevelSpecificSchool: function () {\n      var _getLevelSpecificSchool = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                console.log(Cookies.get('schoolSession'));\n                _context4.next = 4;\n                return DataSource.shared.getLevelSpecificSchool(Cookies.get('schoolSession'));\n\n              case 4:\n                response = _context4.sent;\n\n                if (response) {\n                  if (response.code === '88') {\n                    window.location.replace('/');\n                  } else {\n                    this.levelList = response.Table;\n                  }\n                }\n\n                _context4.next = 11;\n                break;\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4[\"catch\"](0);\n                this.results = _context4.t0;\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 8]]);\n      }));\n\n      function getLevelSpecificSchool() {\n        return _getLevelSpecificSchool.apply(this, arguments);\n      }\n\n      return getLevelSpecificSchool;\n    }(),\n    BindParticipantList: function () {\n      var _BindParticipantList = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5() {\n        var _this2 = this;\n\n        var response;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return DataSource.shared.getAllStaffListBySchool();\n\n              case 3:\n                response = _context5.sent;\n\n                if (response) {\n                  if (response.code === '88') {\n                    window.location.replace('/');\n                  } else {\n                    this.participantListResponse = response.Table;\n                    this.participantListResponse.forEach(function (m) {\n                      _this2.ParticipantList.push(m);\n                    });\n                  }\n                }\n\n                _context5.next = 10;\n                break;\n\n              case 7:\n                _context5.prev = 7;\n                _context5.t0 = _context5[\"catch\"](0);\n                this.results = _context5.t0;\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 7]]);\n      }));\n\n      function BindParticipantList() {\n        return _BindParticipantList.apply(this, arguments);\n      }\n\n      return BindParticipantList;\n    }(),\n    getEventTime: function getEventTime(startValue, endValue) {\n      try {\n        var startTime = new Date(startValue);\n        var endTime = new Date(endValue);\n        var timeDiff = Math.abs(endTime.getTime() - startTime.getTime());\n        var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\n        var starthour = new Date(startValue).getHours();\n        var startminute = new Date(startValue).getMinutes();\n        var endhour = new Date(endValue).getHours();\n        var endminute = new Date(endValue).getMinutes();\n        var Time;\n\n        if (diffDays > 1) {\n          return \"All Day\";\n        } else {\n          Time = starthour + \":\" + startminute + \"AM to \" + endhour + \":\" + endminute + \"PM\";\n          return Time;\n        }\n      } catch (e) {\n        alert(e);\n      }\n    },\n    convertToDate: function convertToDate(startTime) {\n      var day = new Date(startTime).getDate();\n      var month = new Date(startTime).getMonth() + 1;\n      var year = new Date(startTime).getFullYear();\n      var date;\n      var monthValue = new Array();\n      monthValue[0] = \"January\";\n      monthValue[1] = \"February\";\n      monthValue[2] = \"March\";\n      monthValue[3] = \"April\";\n      monthValue[4] = \"May\";\n      monthValue[5] = \"June\";\n      monthValue[6] = \"July\";\n      monthValue[7] = \"August\";\n      monthValue[8] = \"September\";\n      monthValue[9] = \"October\";\n      monthValue[10] = \"November\";\n      monthValue[11] = \"December\";\n      var m = monthValue[month - 1];\n      date = day + \"th \" + m + \" \" + year;\n      return date;\n    },\n    btnCreateEvent: function () {\n      var _btnCreateEvent = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6() {\n        var participantList, Obj, response;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n\n                if (this.optFullDayEvent === true) {\n                  this.optFullDayEvent = \"Yes\";\n                } else {\n                  this.optFullDayEvent = \"No\";\n                }\n\n                if (this.optParentSignUp === true) {\n                  this.optParentSignUp = \"Yes\";\n                } else {\n                  this.optParentSignUp = \"No\";\n                }\n\n                participantList = [];\n                Obj = {\n                  EventTitle: this.inputEventTitle,\n                  EventType: this.rdEventType,\n                  EventStartTime: this.inputEventStartTime,\n                  EventEndTime: this.inputEventEndTime,\n                  EventFullDay: this.optFullDayEvent,\n                  EventParentSignUp: this.optParentSignUp,\n                  EventRegCutOffDay: this.inputEventRegCutOffDay,\n                  EventRegLimit: this.inputEventRegLimit,\n                  EventLocation: this.inputEventLocation // EventDesc:this:inputEventDesc\n\n                };\n\n                if (this.selectedParticipantList !== '' || this.selectedParticipantList !== null || this.selectedParticipantList !== undefined) {\n                  this.selectedParticipantList.forEach(function (item) {\n                    var participantListDetail = {\n                      Type: 'EventParConID',\n                      value: item.participantID\n                    };\n                    participantList.push(participantListDetail);\n                    console.log(JSON.stringify(participantList));\n                  });\n                }\n\n                if (!(this.inputEventTitle === '' || this.inputEventTitle === null || this.inputEventTitle === undefined)) {\n                  _context6.next = 10;\n                  break;\n                }\n\n                alert('Please insert event title.');\n                _context6.next = 22;\n                break;\n\n              case 10:\n                if (!(this.inputEventStartTime === '' || this.inputEventStartTime === null || this.inputEventStartTime === undefined)) {\n                  _context6.next = 14;\n                  break;\n                }\n\n                alert('Please select date from.');\n                _context6.next = 22;\n                break;\n\n              case 14:\n                if (!(this.inputEventEndTime === '' || this.inputEventEndTime === null || this.inputEventEndTime === undefined)) {\n                  _context6.next = 18;\n                  break;\n                }\n\n                alert('Please select date to');\n                _context6.next = 22;\n                break;\n\n              case 18:\n                _context6.next = 20;\n                return DataSource.shared.saveEvent(JSON.stringify(Obj), JSON.stringify(participantList));\n\n              case 20:\n                response = _context6.sent;\n\n                if (response.code === '88') {\n                  console.log('88');\n                } else if (response.code === \"99\") {\n                  console.log('99');\n                } else if (response.code === '1') {\n                  alert('Event added Successful');\n                  window.location.replace('/Event');\n                }\n\n              case 22:\n                _context6.next = 27;\n                break;\n\n              case 24:\n                _context6.prev = 24;\n                _context6.t0 = _context6[\"catch\"](0);\n                alert(_context6.t0);\n\n              case 27:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[0, 24]]);\n      }));\n\n      function btnCreateEvent() {\n        return _btnCreateEvent.apply(this, arguments);\n      }\n\n      return btnCreateEvent;\n    }(),\n    btnAddToCalendar: function () {\n      var _btnAddToCalendar = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7() {\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function btnAddToCalendar() {\n        return _btnAddToCalendar.apply(this, arguments);\n      }\n\n      return btnAddToCalendar;\n    }(),\n    LoadEventDetails: function LoadEventDetails() {\n      var _this3 = this;\n\n      try {\n        var response = DataSource.shared.getEvent();\n        response.then(function (response) {\n          if (response.Table.length < 1) {\n            alert('No record found');\n            console.log('No record found');\n          } else {\n            _this3.eventList = response.Table ? response.Table : [];\n          }\n        });\n      } catch (e) {\n        alert(e);\n        console.log(e);\n      }\n    },\n    eventNewEdit: function eventNewEdit(value) {\n      if (value === 'New') {\n        this.lblNewEditCalendar = value;\n        this.refreshBModalValue();\n      } else {\n        this.lblNewEditCalendar = value;\n      }\n\n      this.$refs.EventShowModal.show();\n    },\n    refreshBModalValue: function refreshBModalValue() {\n      var getCurrentDateTime = new Date();\n      this.inputEventTitle = '';\n      this.rdEventType = '';\n      this.inputEventStartTime = getCurrentDateTime;\n      this.inputEventEndTime = getCurrentDateTime;\n      this.inputEventRegLimit = '';\n      this.inputEventRegCutOffDay = '';\n      this.inputEventLocation = '';\n      this.optFullDayEvent = false;\n      this.optParentSignUp = false;\n    },\n    //To be Cont..\n    btnEditEvent: function () {\n      var _btnEditEvent = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8() {\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function btnEditEvent() {\n        return _btnEditEvent.apply(this, arguments);\n      }\n\n      return btnEditEvent;\n    }(),\n    btnAddClasses: function () {\n      var _btnAddClasses = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee9() {\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                console.log(this.ddlClassLevel);\n\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function btnAddClasses() {\n        return _btnAddClasses.apply(this, arguments);\n      }\n\n      return btnAddClasses;\n    }()\n  }\n};",{"version":3,"sources":["Event.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div id=\"event_Calendar\">\r\n        <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n            <!--<b-btn v-b-modal.create_event_modal variant=\"primary\" class=\"btnCreateEvent\">-->\r\n                <!--Create Event-->\r\n            <!--</b-btn>-->\r\n            <b-btn variant=\"primary\" class=\"btnCreateEvent\" v-on:click=\"eventNewEdit('New')\">\r\n                Create Event\r\n            </b-btn>\r\n        </div>\r\n\r\n        <b-modal id=\"create_event_modal\" size=\"xl\" title='Event' ref=\"EventShowModal\" ok-only\r\n                 ok-variant=\"secondary\">\r\n\r\n                <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12\" title=\"Event Type\">\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>{{ lblNewEditCalendar }} Event</label> <br>\r\n                    <label><h1>Calendar Title</h1></label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"inputEventTitle\">\r\n                    <b-form-group label=\"Event Type\" align=\"left\">\r\n                        <b-form-radio v-model=\"rdEventType\" name=\"some-radios\" value=\"Event\" checked>Event</b-form-radio>\r\n                        <b-form-radio v-model=\"rdEventType\" name=\"some-radios\" value=\"SchoolClosure\">School Closure</b-form-radio>\r\n                        <b-form-radio v-model=\"rdEventType\" name=\"some-radios\" value=\"PublicHoliday\">Public Holiday</b-form-radio>\r\n                        <!--<span align=\"left\">Picked: {{ rdEventType }}</span>-->\r\n                    </b-form-group>\r\n                </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label><b>Participant Email</b></label>\r\n                        <textarea v-model=\"textareaParticipantEmail\" placeholder=\"Participant Email\" class=\"fullwidth\"></textarea>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                                <label>From\r\n                                <el-date-picker v-model=\"inputEventStartTime\" format=\"dd-MM-yyyy HH:mm:ss\"\r\n                                                value-format=\"dd-MM-yyyy HH:mm:ss\" type=\"datetime\"\r\n                                                class=\"form-control\"\r\n                                                placeholder=\"Pick a day\"></el-date-picker></label>\r\n\r\n                                <label> To\r\n                                <el-date-picker v-model=\"inputEventEndTime\" format=\"dd-MM-yyyy HH:mm:ss\"\r\n                                                value-format=\"dd-MM-yyyy HH:mm:ss\" type=\"datetime\"\r\n                                                class=\"form-control\"\r\n                                                placeholder=\"Pick a day\"></el-date-picker></label>\r\n                        <br>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <b-form-checkbox\r\n                            v-model=\"optFullDayEvent\" name=\"check-button\" switch>Full Day event?\r\n                            {{optFullDayEvent}}\r\n                        </b-form-checkbox>\r\n                        <b-form-checkbox\r\n                                v-model=\"optParentSignUp\" name=\"btnParentSignUp\" switch>Parent sign up?\r\n                            {{optParentSignUp}}\r\n                        </b-form-checkbox>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Registration Limit</label>\r\n                        <b-form-input id=\"RegLimit\"\r\n                                      type=\"text\" class=\"form-control\" v-model=\"inputEventRegLimit\" value=\"0\" min=\"0\" max=\"99\"></b-form-input>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Registration cutoff(days)</label>\r\n                        <b-form-input id=\"range-1\" v-model=\"inputEventRegCutOffDay\" type=\"range\" value=\"0\" min=\"0\" max=\"5\" step=\"1\"></b-form-input>\r\n                        <div class=\"mt-2\">Days: {{ inputEventRegCutOffDay }}</div>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <el-select v-model=\"ddlClassLevel\" placeholder=\"Select\" class=\"fullwidth\">\r\n                            <el-option\r\n                                    v-for=\"item in levelList\"\r\n                                    :key=\"item.PK_Course_ID\"\r\n                                    :label=\"item.CRS_Course_Name\"\r\n                                    :value=\"item.PK_Course_ID\">\r\n                            </el-option>\r\n                        </el-select>\r\n                        <button v-on:click=\"btnAddClasses()\">Add Classes</button>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Location</label>\r\n                        <input type=\"text\" class=\"form-control\" v-model=\"inputEventLocation\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <el-select v-model=\"ddlParticipant\" placeholder=\"Select\" class=\"fullwidth\">\r\n                            <el-option v-for=\"item in ParticipantList\"\r\n                                       :value=\"item.CONid\"\r\n                                       :label=\"item.CONname\"\r\n                                       :key=\"item.CONid\">\r\n                            </el-option>\r\n                        </el-select>\r\n                        <button v-on:click=\"AddParticipantList()\">Add Participant</button>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            <div v-if=\"this.lblNewEditCalendar==='New'\">\r\n                <button v-on:click=\"btnCreateEvent()\">Create Event</button>\r\n            </div>\r\n\r\n            <div v-else>\r\n                <button v-on:click=\"btnEditEvent()\">Edit Event</button>\r\n            </div>\r\n\r\n        </b-modal>\r\n\r\n        <div class=\"container\">\r\n            <div>\r\n                <h1>Event Overview</h1>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-lg\">\r\n                    <h5>Event Details</h5>\r\n                    <div style=\"overflow-x:scroll; height:800px;background:whitesmoke;scrollbar-color:rebeccapurple green\">\r\n                        <ul>\r\n                            <li v-for=\"item in eventList\" v-bind:key=\"item.EventID\" ref=\"\">\r\n                                {{item.EventTitle}}<br>\r\n                                {{convertToDate(item.EventStartTime)}}<br>\r\n                                {{getEventTime(item.EventStartTime,item.EventEndTime)}}<br>\r\n                                {{item.EventLocation}}<br>\r\n                                <b>Created By:{{item.CONname}}</b><br>\r\n                                <b-btn v-if=\"item.EventCreatedBy === sessionID\" @click=\"editEvent(item.EventID)\">Edit</b-btn>\r\n                                <hr>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-sm\">\r\n                    <h5>Upcoming Event</h5>\r\n                </div>\r\n\r\n                <div class=\"col-sm\">\r\n                    <h5>Calender</h5>\r\n                    <div>\r\n                        <v-calendar title-position=\"right\" v-model=\"inputVCalendar\"></v-calendar>\r\n                        <v-date-picker :mode='mode' v-model='selectedDate'/>\r\n                        <button v-on:click=\"btnAddToCalendar()\">Add to calendar</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import DataSource from \"../data/datasource\";\r\n    import Cookies from \"js-cookie\";\r\n    import Vue from 'vue';\r\n    import VCalendar from \"v-calendar\";\r\n\r\n    Vue.use(VCalendar, {\r\n        componentPrefix: 'v',  // Use <vc-calendar /> instead of <v-calendar />\r\n        // ...,                // ...other defaults\r\n    });\r\n    export default {\r\n        name: \"Event\",\r\n        components: {\r\n            // VCalendar,\r\n        },\r\n        async mounted() {\r\n            await this.LoadEventDetails();\r\n            await this.BindParticipantList();\r\n            await this.getLevelSpecificSchool();\r\n\r\n            this.sessionID = Cookies.get('userIDSession');\r\n        },\r\n        data(){\r\n            return{\r\n                ddlParticipant:'',\r\n                selectedParticipantList:[],\r\n                textareaParticipantEmail:'',\r\n                rdEventType: 'Event',\r\n                eventList:[],\r\n                levelList: [],\r\n                ParticipantList:[],\r\n                inputEventStartTime:'',\r\n                inputEventEndTime:'',\r\n                optFullDayEvent:false,\r\n                optParentSignUp:false,\r\n                inputEventRegCutOffDay:'0',\r\n                inputEventRegLimit:'0',\r\n                inputEventTitle:'',\r\n                inputEventLocation:'',\r\n                inputEventDesc:'',\r\n                ddlClassLevel: '',\r\n                //v-calendar\r\n                inputVCalendar:'',\r\n                mode:'single',\r\n                selectedDate:null,\r\n                sessionID: '',\r\n                lblNewEditCalendar: '',\r\n            }\r\n        },\r\n        methods:{\r\n            async BindEventFields(resultTable){\r\n                try {\r\n                    resultTable.forEach(m => {\r\n                        this.inputEventTitle = m.EventTitle;\r\n                        this.rdEventType = m.EventType;\r\n                        this.inputEventStartTime = m.EventStartTime;\r\n                        this.inputEventEndTime = m.EventEndTime;\r\n                        this.inputEventRegLimit = m.EventRegLimit;\r\n                        this.inputEventRegCutOffDay = m.EventRegCutOffDay;\r\n                        this.inputEventLocation = m.EventLocation;\r\n\r\n                        if (m.EventFullDay === 'Yes') {\r\n                            this.optFullDayEvent = true;\r\n                        };\r\n                        if (m.EventParentSignUp === 'Yes') {\r\n                            this.optParentSignUp = true;\r\n                        };\r\n                    });\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async editEvent(eventID){\r\n                try{\r\n                    const response = await DataSource.shared.getEvent(eventID);\r\n                    if(response==='88') {\r\n                        window.location.replace('/');\r\n                    }else if(response==='99'){\r\n                        console.log('Cannot get event');\r\n                    }else if(response==='2'){\r\n                        console.log('invalid ID');\r\n                        window.location.replace('/');\r\n                    }\r\n                    else{\r\n                        this.BindEventFields(response.Table);\r\n                        this.$refs['EventShowModal'].show();\r\n                        console.log(eventID);\r\n                    }\r\n\r\n                    this.eventNewEdit('Edit');\r\n\r\n                }catch(e){\r\n                    alert(e);\r\n                    console.log(e);\r\n                }\r\n\r\n            },\r\n            AddParticipantList(){\r\n                console.log(this.selectedParticipantList);\r\n                console.log(JSON.stringify(this.selectedParticipantList));\r\n                try{\r\n                    if (this.ddlParticipant !== '') {\r\n                        let addNewRowList = {\r\n                            participantID: this.ddlParticipant,\r\n                        };\r\n                        this.selectedParticipantList.push(addNewRowList);\r\n                    } else {\r\n                        this.$notify.error({\r\n                            title: 'Error',\r\n                            message: 'Please select'\r\n                        });\r\n                    }\r\n                }\r\n                catch(e){\r\n                    alert(e);\r\n                    console.log(e);\r\n                }\r\n            },\r\n            async getLevelSpecificSchool() {\r\n                try {\r\n                   console.log(Cookies.get('schoolSession')) ;\r\n                    const response = await DataSource.shared.getLevelSpecificSchool(Cookies.get('schoolSession'));\r\n                    if (response) {\r\n                        if (response.code === '88') {\r\n                            window.location.replace('/');\r\n                        } else {\r\n                            this.levelList = response.Table;\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindParticipantList(){\r\n                try {\r\n                    const response = await DataSource.shared.getAllStaffListBySchool();\r\n                    if (response) {\r\n                        if (response.code === '88') {\r\n                            window.location.replace('/');\r\n                        } else {\r\n                            this.participantListResponse = response.Table;\r\n                            this.participantListResponse.forEach(m => {\r\n                                this.ParticipantList.push(m);\r\n                            });\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            getEventTime(startValue,endValue){\r\n                try{\r\n                    let startTime = new Date(startValue);\r\n                    let endTime = new Date(endValue);\r\n                    let timeDiff = Math.abs(endTime.getTime()-startTime.getTime());\r\n                    let diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\r\n                    let starthour = new Date(startValue).getHours();\r\n                    let startminute = new Date(startValue).getMinutes();\r\n                    let endhour = new Date(endValue).getHours();\r\n                    let endminute = new Date(endValue).getMinutes();\r\n                    let Time;\r\n                    if(diffDays>1)\r\n                    {\r\n                        return \"All Day\";\r\n                    }\r\n                    else{\r\n                        Time = starthour + \":\"+startminute+ \"AM to \" +endhour+\":\"+endminute+\"PM\";\r\n                        return Time;\r\n                    }\r\n                }catch(e){\r\n                    alert(e);\r\n                }\r\n            },\r\n            convertToDate(startTime){\r\n                let day = new Date(startTime).getDate();\r\n                let month = new Date(startTime).getMonth() + 1;\r\n                let year = new Date(startTime).getFullYear();\r\n                let date;\r\n\r\n                let monthValue = new Array();\r\n                monthValue[0] = \"January\";\r\n                monthValue[1] = \"February\";\r\n                monthValue[2] = \"March\";\r\n                monthValue[3] = \"April\";\r\n                monthValue[4] = \"May\";\r\n                monthValue[5] = \"June\";\r\n                monthValue[6] = \"July\";\r\n                monthValue[7] = \"August\";\r\n                monthValue[8] = \"September\";\r\n                monthValue[9] = \"October\";\r\n                monthValue[10] = \"November\";\r\n                monthValue[11] = \"December\";\r\n\r\n                let m = monthValue[month-1];\r\n                date = day + \"th \" + m + \" \" + year;\r\n                return date;\r\n            },\r\n            async btnCreateEvent(){\r\n\r\n                try\r\n                {\r\n                    if(this.optFullDayEvent===true){\r\n                        this.optFullDayEvent=\"Yes\";\r\n                    }\r\n                    else{\r\n                        this.optFullDayEvent=\"No\";\r\n                    }\r\n                    if(this.optParentSignUp===true){\r\n                        this.optParentSignUp = \"Yes\";\r\n                    }\r\n                    else{\r\n                        this.optParentSignUp = \"No\";\r\n                    }\r\n\r\n                    let participantList=[];\r\n                    var Obj = {\r\n                        EventTitle:this.inputEventTitle,\r\n                        EventType:this.rdEventType,\r\n                        EventStartTime:this.inputEventStartTime,\r\n                        EventEndTime:this.inputEventEndTime,\r\n                        EventFullDay:this.optFullDayEvent,\r\n                        EventParentSignUp: this.optParentSignUp,\r\n                        EventRegCutOffDay:this.inputEventRegCutOffDay,\r\n                        EventRegLimit:this.inputEventRegLimit,\r\n                        EventLocation: this.inputEventLocation,\r\n                        // EventDesc:this:inputEventDesc\r\n                    };\r\n\r\n                    if(this.selectedParticipantList!==''|| this.selectedParticipantList !== null || this.selectedParticipantList !==undefined){\r\n                        this.selectedParticipantList.forEach(item => {\r\n                            let participantListDetail = {\r\n                                Type: 'EventParConID',\r\n                                value: item.participantID,\r\n                            };\r\n                            participantList.push(participantListDetail);\r\n                            console.log(JSON.stringify(participantList));\r\n                        });\r\n                    }\r\n\r\n                    if(this.inputEventTitle=== '' || this.inputEventTitle === null || this.inputEventTitle === undefined){\r\n                        alert('Please insert event title.');\r\n                    }\r\n                    else if(this.inputEventStartTime === '' || this.inputEventStartTime === null || this.inputEventStartTime === undefined){\r\n                        alert('Please select date from.');\r\n                    }\r\n                    else if(this.inputEventEndTime === '' || this.inputEventEndTime === null || this.inputEventEndTime === undefined){\r\n                        alert('Please select date to');\r\n                    }\r\n                    else{\r\n\r\n                        const response = await DataSource.shared.saveEvent(JSON.stringify(Obj),JSON.stringify(participantList));\r\n\r\n                        if(response.code==='88'){\r\n                            console.log('88');\r\n                        }\r\n                        else if(response.code===\"99\"){\r\n                            console.log('99');\r\n                        }\r\n                        else if(response.code==='1'){\r\n                            alert('Event added Successful');\r\n                            window.location.replace('/Event');\r\n                        }\r\n                    }\r\n                }\r\n                catch(e){\r\n                    alert(e);\r\n                }\r\n            },\r\n            async btnAddToCalendar(){\r\n\r\n            },\r\n            LoadEventDetails() {\r\n                try{\r\n                    const response = DataSource.shared.getEvent();\r\n                    response.then((response)=>{\r\n\r\n                        if(response.Table.length < 1){\r\n                            alert('No record found');\r\n                            console.log('No record found');\r\n                        }\r\n                        else {\r\n                            this.eventList = (response.Table)? response.Table:[];\r\n                        }\r\n                    });\r\n                }catch(e){\r\n                    alert(e);\r\n                    console.log(e);\r\n                }\r\n            },\r\n            eventNewEdit (value) {\r\n                if(value==='New'){\r\n                    this.lblNewEditCalendar = value;\r\n                    this.refreshBModalValue();\r\n                }\r\n                else{\r\n                    this.lblNewEditCalendar = value;\r\n                }\r\n                this.$refs.EventShowModal.show();\r\n            },\r\n            refreshBModalValue(){\r\n                let getCurrentDateTime = new Date();\r\n                this.inputEventTitle = '';\r\n                this.rdEventType = '';\r\n                this.inputEventStartTime = getCurrentDateTime;\r\n                this.inputEventEndTime = getCurrentDateTime;\r\n                this.inputEventRegLimit = '';\r\n                this.inputEventRegCutOffDay = '';\r\n                this.inputEventLocation = '';\r\n                this.optFullDayEvent = false;\r\n                this.optParentSignUp = false;\r\n            },\r\n\r\n            //To be Cont..\r\n            async btnEditEvent(){},\r\n            async btnAddClasses(){\r\n                console.log(this.ddlClassLevel);\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src\\pages"}]}