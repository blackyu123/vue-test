{"remainingRequest":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\components\\Nav.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\components\\Nav.vue","mtime":1557926856615},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552619058231},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\babel-loader\\lib\\index.js","mtime":1552619052419},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552619058231},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1552619058571},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552619058231},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\babel-loader\\lib\\index.js","mtime":1552619052419},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552619058231},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1552619058571}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\jessi\\\\Documents\\\\git\\\\vue-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DataSource from \"../data/datasource\";\nimport Cookies from \"js-cookie\";\nexport default {\n  name: 'navBar',\n  data: function data() {\n    return {\n      // isLoading: true,\n      // token: null,\n      // isLoggedIn: null\n      schList: [],\n      schListCurrent: '',\n      schSession: Cookies.get('schoolSession'),\n      schoolListOpen: false,\n      isToken: Cookies.get('authToken')\n    };\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.BindSchoolList();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  methods: {\n    showSchoolList: function showSchoolList() {\n      this.schoolListOpen = true;\n    },\n    logout: function logout() {\n      DataSource.shared.logout();\n      this.logoutGoogle();\n      window.location.replace(\"/login\");\n    },\n    logoutGoogle: function logoutGoogle() {\n      $.getScript('https://apis.google.com/js/platform.js', function () {\n        gapi.load(\"auth2\", function () {\n          gapi.auth2.init({\n            client_id: \"646978523324-lcudp248dvuuk0rda4q6kf2bti9qkk3b.apps.googleusercontent.com\"\n          }).then(function (auth2) {\n            auth2.signOut();\n            console.log(\"Google Logout\");\n          });\n        });\n      });\n    },\n    isMobile: function isMobile() {\n      if (screen.width <= 770) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    BindSchoolList: function () {\n      var _BindSchoolList = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        var response;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return DataSource.shared.getUserSch();\n\n              case 3:\n                response = _context2.sent;\n\n                if (response) {\n                  //this.schList = response;\n                  // for (const item in response) {\n                  //     this.schList.push(item);\n                  // }\n                  this.schListResponse = response.Table;\n                  this.schListResponse.forEach(function (m) {\n                    _this.schList.push(m);\n                  });\n                }\n\n                _context2.next = 10;\n                break;\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](0);\n                this.results = _context2.t0;\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 7]]);\n      }));\n\n      function BindSchoolList() {\n        return _BindSchoolList.apply(this, arguments);\n      }\n\n      return BindSchoolList;\n    }(),\n    ChangeSchool: function () {\n      var _ChangeSchool = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(value) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                try {\n                  //Cookies.set('schoolSession', value);\n                  //window.location.replace('/');\n                  this.schList.forEach(function (m) {\n                    if (m.CONSchool === value) {\n                      Cookies.set('schoolSession', m.CONSchool, {\n                        expires: 3 / 24\n                      }); //expire in 3 hour\n\n                      Cookies.set('userIDSession', m.CONid, {\n                        expires: 3 / 24\n                      }); //expire in 3 hour\n\n                      Cookies.set('userTypeSession', m.CONType, {\n                        expires: 3 / 24\n                      }); //expire in 3 hour\n\n                      Cookies.set('userUniversitySession', m.CONUniversity, {\n                        expires: 3 / 24\n                      }); //expire in 3 hour\n\n                      Cookies.set('usRidSession', m.USRid, {\n                        expires: 3 / 24\n                      }); //expire in 3 hour\n\n                      window.location.replace('/');\n                    }\n                  });\n                } catch (e) {\n                  this.results = e;\n                }\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function ChangeSchool(_x) {\n        return _ChangeSchool.apply(this, arguments);\n      }\n\n      return ChangeSchool;\n    }()\n  } // mounted() {\n  //     const isLogin = Cookies.get('authToken');\n  //     if (this.$route.path !== \"/login\" && (!isLogin || isLogin === \"null\")) {\n  //         this.$router.push('/login');\n  //     } else if (isLogin) {\n  //         this.isLoggedIn = true;\n  //         setTimeout(this.warningLogout, 10800); // 3 hours\n  //     }\n  //     this.isLoading = false;\n  // },\n\n};",{"version":3,"sources":["Nav.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n    <div class=\"row nabarx topbar\">\r\n        <div class=\"col-md-12 col-lg-4 text-left\">\r\n            <a href=\"/\"> <img src=\"../assets/kagami-white.png\"/></a>\r\n            {{$route.name}}\r\n        </div>\r\n        <div class=\"col-md-12 col-lg-8 info-menu\">\r\n            <div class=\"input-group search\" v-if=\"!isMobile()\">\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Search for...\">\r\n                <span class=\"input-group-btn\">\r\n                    <button class=\"btn btn-default\" type=\"button\"><i class=\"fa fa-search\"\r\n                                                                     aria-hidden=\"true\"></i></button>\r\n                </span>\r\n            </div><!-- /input-group -->\r\n\r\n            <li class=\"info-menu__item\">\r\n                <a href=\"#\">\r\n                    <i class=\"fa fa-commenting\" aria-hidden=\"true\"></i>\r\n                    <span>Feedback</span>\r\n                </a>\r\n            </li>\r\n\r\n            <li class=\"info-menu__item\">\r\n                <a href=\"#\">\r\n                    <i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i>\r\n                    <span>Timeline</span>\r\n                </a>\r\n            </li>\r\n\r\n            <li class=\"info-menu__item\">\r\n                <a href=\"#\">\r\n                    <i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>\r\n                    <span>Calendar</span>\r\n                </a>\r\n            </li>\r\n\r\n            <li class=\"info-menu__item\">\r\n                <a class=\"a-icon\" href=\"#\" @click=\"showSchoolList()\">\r\n                    <i class=\"fa fa-university\" aria-hidden=\"true\"></i>\r\n                    <span>School List</span>\r\n                </a>\r\n                <!--<vs-dropdown>-->\r\n                <!--<vs-dropdown-menu v-model=\"schListCurrent\">-->\r\n                <!--&lt;!&ndash;<vs-dropdown-item v-for=\"(key, value) in schList\">&ndash;&gt;-->\r\n                <!--&lt;!&ndash;<span v-on:click=\"ChangeSchool(value)\" v-bind:value=value>{{ key }} <i v-if=\"value === schSession\" class=\"fa fa-check-square\" aria-hidden=\"true\"></i></span>&ndash;&gt;-->\r\n                <!--&lt;!&ndash;</vs-dropdown-item>&ndash;&gt;-->\r\n                <!--<vs-dropdown-item v-for=\"item in schList\">-->\r\n                <!--<span v-on:click=\"ChangeSchool(item.CONSchool.trim())\" v-bind:value=\"item.CONSchool.trim()\">{{ item.SCH_Name.trim() }} <i-->\r\n                <!--v-if=\"item.CONSchool.trim() === schSession\" class=\"fa fa-check-square\"-->\r\n                <!--aria-hidden=\"true\"></i></span>-->\r\n                <!--</vs-dropdown-item>-->\r\n                <!--</vs-dropdown-menu>-->\r\n                <!--</vs-dropdown>-->\r\n            </li>\r\n\r\n            <li class=\"info-menu__item\">\r\n                <vs-dropdown>\r\n                    <a class=\"a-icon\" href=\"#\">\r\n                        <i class=\"fa fa-user-circle\" aria-hidden=\"true\"></i>\r\n                        <span>Account</span>\r\n                    </a>\r\n\r\n                    <vs-dropdown-menu>\r\n                        <vs-dropdown-item>\r\n                            <span @click=\"logout\">Logout</span>\r\n                        </vs-dropdown-item>\r\n                    </vs-dropdown-menu>\r\n                </vs-dropdown>\r\n            </li>\r\n        </div>\r\n        <!--<b-modal id=\"schoolListModal\" hide-footer title=\"Select School \" v-model=\"schoolListOpen\">-->\r\n        <!--<ul v-model=\"schListCurrent\">-->\r\n        <!--<li v-for=\"item in schList\">-->\r\n        <!--<span v-on:click=\"ChangeSchool(item.CONSchool.trim())\" v-bind:value=\"item.CONSchool.trim()\">{{ item.SCH_Name.trim() }} <i-->\r\n        <!--v-if=\"item.CONSchool.trim() === schSession\" class=\"fa fa-check-square\"-->\r\n        <!--aria-hidden=\"true\"></i></span>-->\r\n        <!--</li>-->\r\n        <!--</ul>-->\r\n        <!--</b-modal>-->\r\n        <vs-popup id=\"schoolListModal\" class=\"holamundo\" title=\"Select School \" :active.sync=\"schoolListOpen\">\r\n            <ul v-model=\"schListCurrent\">\r\n                <li v-for=\"item in schList\">\r\n                            <span v-on:click=\"ChangeSchool(item.CONSchool.trim())\" v-bind:value=\"item.CONSchool.trim()\">{{ item.SCH_Name.trim() }} <i\r\n                                    v-if=\"item.CONSchool.trim() === schSession\" class=\"fa fa-check-square\"\r\n                                    aria-hidden=\"true\"></i></span>\r\n                </li>\r\n            </ul>\r\n        </vs-popup>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import DataSource from \"../data/datasource\";\r\n    import Cookies from \"js-cookie\";\r\n\r\n\r\n    export default {\r\n        name: 'navBar',\r\n        data() {\r\n            return {\r\n                // isLoading: true,\r\n                // token: null,\r\n                // isLoggedIn: null\r\n\r\n                schList: [],\r\n                schListCurrent: '',\r\n\r\n                schSession: Cookies.get('schoolSession'),\r\n                schoolListOpen: false,\r\n                isToken: Cookies.get('authToken'),\r\n            };\r\n        },\r\n        async created() {\r\n            await this.BindSchoolList();\r\n        },\r\n        methods: {\r\n            showSchoolList() {\r\n                this.schoolListOpen = true;\r\n            },\r\n            logout() {\r\n                DataSource.shared.logout();\r\n                this.logoutGoogle();\r\n                window.location.replace(\"/login\");\r\n            },\r\n            logoutGoogle() {\r\n                $.getScript('https://apis.google.com/js/platform.js', function () {\r\n                    gapi.load(\"auth2\", () => {\r\n                        gapi.auth2.init({\r\n                            client_id: \"646978523324-lcudp248dvuuk0rda4q6kf2bti9qkk3b.apps.googleusercontent.com\"\r\n                        }).then((auth2) => {\r\n                            auth2.signOut();\r\n                            console.log(\"Google Logout\");\r\n                        });\r\n                    });\r\n                });\r\n            },\r\n            isMobile() {\r\n                if (screen.width <= 770) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            },\r\n\r\n            async BindSchoolList() {\r\n                try {\r\n                    const response = await DataSource.shared.getUserSch();\r\n                    if (response) {\r\n                        //this.schList = response;\r\n\r\n                        // for (const item in response) {\r\n                        //     this.schList.push(item);\r\n                        // }\r\n\r\n                        this.schListResponse = response.Table;\r\n                        this.schListResponse.forEach(m => {\r\n                            this.schList.push(m);\r\n                        });\r\n\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n\r\n            async ChangeSchool(value) {\r\n                try {\r\n                    //Cookies.set('schoolSession', value);\r\n                    //window.location.replace('/');\r\n\r\n                    this.schList.forEach(m => {\r\n                        if (m.CONSchool === value) {\r\n                            Cookies.set('schoolSession', m.CONSchool, { expires: 3/24 }); //expire in 3 hour\r\n                            Cookies.set('userIDSession', m.CONid,  { expires: 3/24 }); //expire in 3 hour\r\n                            Cookies.set('userTypeSession', m.CONType,  { expires: 3/24 }); //expire in 3 hour\r\n                            Cookies.set('userUniversitySession', m.CONUniversity,  { expires: 3/24 }); //expire in 3 hour\r\n                            Cookies.set('usRidSession', m.USRid,  { expires: 3/24 }); //expire in 3 hour\r\n                            window.location.replace('/');\r\n                        }\r\n                    });\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n        }\r\n        // mounted() {\r\n        //     const isLogin = Cookies.get('authToken');\r\n        //     if (this.$route.path !== \"/login\" && (!isLogin || isLogin === \"null\")) {\r\n        //         this.$router.push('/login');\r\n        //     } else if (isLogin) {\r\n        //         this.isLoggedIn = true;\r\n        //         setTimeout(this.warningLogout, 10800); // 3 hours\r\n        //     }\r\n        //     this.isLoading = false;\r\n        // },\r\n    };\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":"src\\components"}]}