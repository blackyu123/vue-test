{"remainingRequest":"C:\\Users\\jessica\\Documents\\git\\vue-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jessica\\Documents\\git\\vue-test\\src\\pages\\Student.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jessica\\Documents\\git\\vue-test\\src\\pages\\Student.vue","mtime":1546964201406},{"path":"C:\\Users\\jessica\\Documents\\git\\vue-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545311097356},{"path":"C:\\Users\\jessica\\Documents\\git\\vue-test\\node_modules\\babel-loader\\lib\\index.js","mtime":1545311081350},{"path":"C:\\Users\\jessica\\Documents\\git\\vue-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545311097356},{"path":"C:\\Users\\jessica\\Documents\\git\\vue-test\\node_modules\\vue-loader\\lib\\index.js","mtime":1545311099620}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport DataSource from \"../data/datasource\";\nimport { required } from \"vuelidate/lib/validators\";\n\nexport default {\n    name: \"Student\",\n    async created() {\n        await this.BindCountryList();\n        await this.BindStudentDropdown();\n        await this.BindStudentLevel();\n        await this.BindAcademicYear();\n        await this.BindStudentIntakeYear();\n    },\n    async mounted() {\n        await this.LoadStudentParentInfo();\n    },\n    data() {\n        return {\n            countryList: [],\n            ddlStudentIdentificationTypeList: [],\n            ddlStudentReligionList: [],\n            ddlStudentAdditionalLanguageList: [],\n            ddlStudentMealPreferencesList: [],\n            ddlStudentMembershipList: [],\n            ddlStudentResidencyStatusList: [],\n            ddlStudentPayerList: [],\n            ddlFatherIdentificationTypeList: [],\n            ddlMotherIdentificationTypeList: [],\n            ddlParentModeList: [],\n            levelList: [],\n            academicYearList: [],\n            studentIntakeYearList: [],\n\n            inputStudentDateOfBirth: '',\n            inputFatherDateofBirth: '',\n            inputStudentIdentificationExpiryDate: '',\n            inputFirstCommencementDate: '',\n            inputFatherIdentificationNoExpiryDate: '',\n            inputMotherDateofBirth: '',\n            inputMotherIdentificationNoExpiryDate: '',\n            ddlStudentGender: '',\n            inputStudentFirstName: '',\n            inputStudentMiddleName: '',\n            inputStudentLastName: '',\n            inputStudentPreferredName: '',\n            ddlStudentNationality: '',\n            ddlStudentBirthPlace: '',\n            inputStudentIdentificationNo: '',\n            inputStudent1stEmergencyContactNo: '',\n            inputStudent2ndEmergencyContactNo: '',\n            inputStudentFirstLanguageSpoken: '',\n            inputSecondLanguageSpoken: '',\n            ddlStudentSelectLevel: '',\n            ddlStudentFirstAcademicYear: '',\n            inputStudentID: '',\n            ddlStudentIntakeYear: '',\n            inputStudentAddress1: '',\n            inputStudentAddress2: '',\n            inputStudentAddress3: '',\n            inputStudentCity: '',\n            inputStudentPostalCode: '',\n            inputStudentCorrespondanceAddress1: '',\n            inputStudentCorrespondanceAddress2: '',\n            inputStudentCorrespondanceAddress3: '',\n            inputStudentCorrespondanceCity: '',\n            ddlStudentAddressCorrespondanceCountry: '',\n            inputStudentCorrespondancePostalCode: '',\n            inputStudentMobileNo: '',\n            inputStudentOfficeTelNo: '',\n            inputStudentEmail: '',\n            taMajorAilmentsList: '',\n            taMedicationAllergiesList: '',\n            inputBloodGroup: '',\n            inputBloodDonorNo: '',\n            inputNameofFamilyDoctor: '',\n            inputClinicAddress: '',\n            inputClinicPhoneNo: '',\n            inputFamilyID: '',\n            inputFamilyParentID: '',\n            inputFatherFirstName: '',\n            inputFatherMiddleName: '',\n            inputFatherLastName: '',\n            inputFatherOccupation: '',\n            inputFatherIdentificationNo: '',\n            inputFatherMobileNo: '',\n            inputFatherEmail: '',\n            inputMotherFirstName: '',\n            inputMotherMiddleName: '',\n            inputMotherLastName: '',\n            inputMotherOccupation: '',\n            inputMotherIdentificationNo: '',\n            inputMotherMobileNo: '',\n            inputMotherEmail: '',\n            inputParentAddress1: '',\n            inputParentAddress2: '',\n            inputParentAddress3: '',\n            inputParentCity: '',\n            inputParentLandlineNo: '',\n            ddlParentCountry: '',\n            inputParentPostalCode: '',\n            ddlStudentAddressCountry: '',\n            ddlStudentIdentificationType: '',\n            ddlStudentReligion: '',\n            ddlStudentAdditionalLanguage: '',\n            ddlStudentMealPreferences: '',\n            ddlStudentMembership: '',\n            ddlStudentResidencyStatus: '',\n            ddlStudentPayer: '',\n            ddlFatherIdentificationType: '',\n            ddlMotherIdentificationType: '',\n            ddlParentMode: '',\n\n            editModeDisable:'',\n            lblCreateOrEdit:'',\n            lblStudentID:'',\n            lblParentID: '',\n            btnActive: '',\n            lblMotherNameDuplicated: '',\n            lblFatherNameDuplicated: '',\n\n            siblingTab: '',\n            siblingList: [],\n            siblingListAll: [{\n                prop: \"Index_No\",\n                label: \"Student No\"\n            }, {\n                prop: \"Full_Name\",\n                label: \"First Name\"\n            }, {\n                prop: \"Last_name\",\n                label: \"Last Name\"\n            }, {\n                prop: \"Regst_date_convert\",\n                label: \"Regisration Date\"\n            }, {\n                prop: \"CRS_Course_Name\",\n                label: \"Level\"\n            }, {\n                prop: \"SCH_Name\",\n                label: \"Center Name\"\n            }],\n\n            familyIDList: [],\n            familyIDListAll: [{\n            prop: \"PAR_ID\",\n            label: \"Parent ID\"\n            }, {\n                prop: \"PAR_Family_Number\",\n                label: \"Family No\"\n            }, {\n                prop: \"Parent_FName\",\n                label: \"Father's Name\"\n            }, {\n                prop: \"Parent_MName\",\n                label: \"Mother's Name\"\n            }, {\n                prop: \"Parent_GName\",\n                label: \"Guardian's Name\"\n            }, {\n                prop: \"PAR_Status\",\n                label: \"Parent's Status\"\n            }],\n            actionCol: {\n                label: 'Select',\n                props: {\n                    align: 'center',\n                },\n                buttons: [{\n                    props: {\n                        type: 'primary',\n                        icon: 'el-icon-edit'\n                    },\n                    handler: row => {\n                        this.inputFamilyID = row.PAR_Family_Number;\n                        this.inputFamilyParentID = row.PAR_ID;\n                        this.$refs.familyModalShowModal.hide();\n                    },\n                    label: 'Select'\n                }]\n            },\n\n            selectedRow: null,\n        };\n    },\n    validations: {\n        inputStudentFirstName: { required },\n        inputStudentLastName: { required },\n        ddlStudentNationality: { required },\n        inputStudentDateOfBirth: { required },\n        ddlStudentIdentificationType: { required },\n        inputStudentIdentificationNo: { required },\n        inputStudentIdentificationExpiryDate: { required },\n        ddlStudentSelectLevel: { required },\n        inputFirstCommencementDate: { required },\n        ddlStudentFirstAcademicYear: { required },\n        ddlStudentPayer: { required },\n        ddlStudentIntakeYear: { required },\n        inputStudentAddress1: { required },\n        inputStudentPostalCode: { required },\n        inputStudentCorrespondanceAddress1: { required },\n        inputStudentCorrespondancePostalCode: { required },\n        ddlParentMode: { required },\n        inputFatherFirstName: { required },\n        inputFatherLastName: { required },\n        inputFatherOccupation: { required },\n        inputMotherFirstName: { required },\n        inputMotherLastName: { required },\n        inputParentAddress1: { required },\n        inputParentPostalCode: { required },\n    },\n    methods: {\n        async BindCountryList() {\n            try {\n                const response = await DataSource.shared.getCountryList();\n                if (response) {\n                    this.countryListResponse = response.Table;\n                    this.countryListResponse.forEach(m => {\n                        this.countryList.push(m);\n                    });\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindStudentDropdown() {\n            try {\n                let jsonString = '\"Student Identification Type\":\"Student Identification Type\"';\n                jsonString = jsonString + ',\"Religion\":\"Religion\"';\n                jsonString = jsonString + ',\"Mother Tongue\":\"Mother Tongue\"';\n                jsonString = jsonString + ',\"Meal Preferences\":\"Meal Preferences\"';\n                jsonString = jsonString + ',\"Student Membership\":\"Student Membership\"';\n                jsonString = jsonString + ',\"Residency Status\":\"Residency Status\"';\n                jsonString = jsonString + ',\"Sponsorship Type\":\"Sponsorship Type\"';\n                jsonString = jsonString + ',\"ParentID\":\"ParentID\"';\n                jsonString = jsonString + ',\"Parent Mode\":\"Parent Mode\"';\n                jsonString = \"{\" + jsonString + \"}\";\n\n                const response = await DataSource.shared.getStudentDropDownList(jsonString);\n                if (response) {\n                    this.studentDropDownListResponse = response.Table;\n                    this.studentDropDownListResponse.forEach(m => {\n\n                        if (m.OGPname.trim() === \"Student Identification Type\") {\n                            this.ddlStudentIdentificationTypeList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Religion') {\n                            this.ddlStudentReligionList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Mother Tongue') {\n                            this.ddlStudentAdditionalLanguageList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Meal Preferences') {\n                            this.ddlStudentMealPreferencesList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Student Membership') {\n                            this.ddlStudentMembershipList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Residency Status') {\n                            this.ddlStudentResidencyStatusList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Sponsorship Type') {\n                            this.ddlStudentPayerList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'ParentID') {\n                            this.ddlFatherIdentificationTypeList.push(m);\n                            this.ddlMotherIdentificationTypeList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Parent Mode') {\n                            this.ddlParentModeList.push(m);\n                        }\n                    });\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindStudentLevel() {\n            try {\n                const response = await DataSource.shared.getLevel('');\n                if (response) {\n                    this.levelListResponse = response.Table;\n                    this.levelListResponse.forEach(m => {\n                        this.levelList.push(m);\n                    });\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindAcademicYear() {\n            try {\n                const response = await DataSource.shared.getAcademicYear();\n                if (response) {\n                    this.academicYearListResponse = response.Table;\n                    this.academicYearListResponse.forEach(m => {\n                        this.academicYearList.push(m);\n                    });\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindStudentIntakeYear() {\n            try {\n                const response = await DataSource.shared.getIntakeYear();\n                if (response) {\n                    this.studentIntakeYearListResponse = response.Table;\n                    this.studentIntakeYearListResponse.forEach(m => {\n                        this.studentIntakeYearList.push(m);\n                    });\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async LoadStudentParentInfo() {\n            try {\n                if (this.$route.query.id != null || this.$route.query.id != undefined)\n                {\n                    this.lblCreateOrEdit = \"Edit\";\n                    this.lblStudentID = this.$route.query.id;\n                    this.editModeDisable = true;\n                    this.siblingTab = true;\n                    let parentID;\n\n                    const stuRes = await DataSource.shared.getStudent(this.$route.query.id, \"\", \"\", \"\", \"\");\n                    if (stuRes)\n                    {\n                        if (stuRes.code == \"2\")\n                        {\n                            alert('No record found');\n                        }\n                        else if (stuRes.code == \"99\")\n                        {\n                            alert('Please try again later');\n                        }\n                        else\n                        {\n                            this.BindStudentFields(stuRes.Table);\n                            this.BindStudentSibling();\n                        }\n                    }\n\n                    const relRes = await DataSource.shared.getRelationship(\"\", this.$route.query.id, \"\", \"\", \"\");\n                    if (relRes)\n                    {\n                        if (relRes.code == \"2\")\n                        {\n                            alert('No record found');\n                        }\n                        else if (relRes.code == \"99\")\n                        {\n                            alert('Please try again later');\n                        }\n                        else\n                        {\n                            this.relResLoop = relRes.Table;\n                            this.relResLoop.forEach(m => {\n                                parentID = m.PAR_ID\n                            });\n\n                            const parRes = await DataSource.shared.getParent(parentID, \"\");\n                            if (parRes)\n                            {\n                                this.BindParentFields(parRes.Table);\n                            }\n                        }\n                    }\n                }\n                else\n                {\n                    this.editModeDisable = false;\n                    this.lblCreateOrEdit = \"New\";\n                    this.siblingTab = false;\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindStudentFields(resultTable) {\n            try {\n                resultTable.forEach(m => {\n                    this.inputStudentID = m.Index_No;\n                    if (m.Index_No == '' || m.Index_No == null) { this.btnActive = true; } else { this.btnActive = false; }\n                    this.inputStudentFirstName = m.Full_Name;\n                    this.inputStudentMiddleName = m.Middle_name;\n                    this.inputStudentLastName = m.Last_name;\n                    this.ddlStudentGender = m.Sex;\n                    this.inputStudentCorrespondanceAddress1 = m.st_corr_add_flrNo;\n                    this.inputStudentCorrespondanceAddress2 = m.st_corr_add_blkNo;\n                    this.inputStudentCorrespondanceCity = m.st_corr_add_stName;\n                    this.inputStudentCorrespondancePostalCode = m.st_corr_add_pstcode;\n                    this.inputStudentPostalCode = m.st_prm_add_pstcode;\n                    this.inputStudentAddress1 = m.st_prm_add_blkNo;\n                    this.inputStudentAddress2 = m.st_prm_add_flrNo;\n                    this.inputStudentAddress3 = m.st_prm_add_BlgName;\n                    this.inputStudentDateOfBirth = m.DOB_convert;\n                    this.ddlStudentReligion =  m.St_Religion;\n                    this.ddlStudentNationality = m.Nationality;\n                    this.inputFirstCommencementDate = m.Regst_date_convert;\n                    this.ddlStudentAddressCountry = m.st_prm_add_country;\n                    this.inputStudentMobileNo = m.Handphone;\n                    this.inputStudentCorrespondanceAddress3 = m.st_corr_add_BlgName;\n                    this.ddlStudentResidencyStatus = m.student_type;\n                    this.ddlStudentPayer = m.sponsor_type;\n                    this.ddlStudentIdentificationType = m.ID_Type;\n                    this.inputStudentIdentificationNo = m.ID_Number;\n                    this.inputStudentCity = m.st_prm_add_stName;\n                    this.ddlStudentAddressCorrespondanceCountry = m.st_corr_add_country;\n                    this.inputStudent2ndEmergencyContactNo = m.Fax;\n                    this.inputStudentEmail = m.email;\n                    this.inputStudent1stEmergencyContactNo = m.Telephone;\n                    this.inputStudentOfficeTelNo = m.Offphone;\n                    this.ddlStudentSelectLevel = m.Course_Type;\n                    this.inputNameofFamilyDoctor = m.Family_Doctor;\n                    this.taMajorAilmentsList = m.Ailments;\n                    this.taMedicationAllergiesList = m.medication_allergic_to;\n                    this.inputBloodGroup = m.BLD_grp;\n                    this.inputBloodDonorNo = m.BLD_donor_no;\n                    this.inputClinicAddress = m.clinic_add;\n                    this.inputClinicPhoneNo = m.clinic_ph_no;\n                    this.ddlStudentFirstAcademicYear = m.Semester;\n                    this.inputStudentPreferredName = m.St_Preferred_Name;\n                    this.ddlStudentAdditionalLanguage = m.St_Mother_Tongue;\n                    this.ddlStudentMealPreferences = m.St_Meal_Preferences;\n                    this.ddlStudentBirthPlace = m.St_Birth_Place;\n                    this.inputStudentFirstLanguageSpoken = m.St_AdditionalLanguage;\n                    this.inputSecondLanguageSpoken = m.St_SecondLanguageSpoken;\n                    this.ddlStudentMembership = m.ST_StudentMemership;\n                    this.inputStudentIdentificationExpiryDate = m.ID_ExpDate_convert;\n                });\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindParentFields(resultTable) {\n            try {\n                resultTable.forEach(m => {\n                    this.lblParentID = m.PAR_ID;\n                    this.ddlParentMode = m.PAR_Mode;\n                    this.inputFatherFirstName = m.PAR_Father_FirstName;\n                    this.inputFatherMiddleName = m.PAR_Father_MiddleName;\n                    this.inputFatherLastName = m.PAR_Father_LastName;\n                    this.inputFatherDateofBirth = m.PAR_Father_DOB_convert;\n                    this.inputFatherOccupation = m.PAR_Father_Occupation;\n                    this.inputParentLandlineNo = m.PAR_FatResContact;\n                    this.inputFatherMobileNo = m.PAR_Father_Phone;\n                    this.inputFatherEmail = m.PAR_Father_Email;\n                    this.ddlFatherIdentificationType = m.PAR_Father_IDType;\n                    this.inputFatherIdentificationNo = m.PAR_Father_UID;\n                    this.inputParentAddress1 = m.PAR_Father_Loc_Residence_No;\n                    this.inputParentAddress2 = m.PAR_Father_Loc_Address1;\n                    this.inputParentAddress3 = m.PAR_Father_Loc_Address2;\n                    this.inputParentPostalCode = m.PAR_Father_Loc_Postalcode;\n                    this.inputParentCity = m.PAR_Father_Loc_City;\n                    this.ddlParentCountry = m.PAR_Father_Loc_Country;\n                    this.inputParentCity = m.PAR_Father_City;\n                    this.ddlParentCountry = m.PAR_Father_Country;\n                    this.inputParentPostalCode = m.PAR_Father_PostalCode;\n                    this.inputMotherFirstName = m.PAR_Mother_FirstName;\n                    this.inputMotherMiddleName = m.PAR_Mother_MiddleName;\n                    this.inputMotherLastName = m.PAR_Mother_LastName;\n                    this.inputMotherDateofBirth = m.PAR_Mother_DOB_convert;\n                    this.inputMotherOccupation = m.PAR_Mother_Occupation;\n                    this.inputParentLandlineNo = m.PAR_MotResContact;\n                    this.inputMotherMobileNo = m.PAR_Mother_Phone;\n                    this.inputMotherEmail = m.PAR_Mother_Email;\n                    this.ddlMotherIdentificationType = m.PAR_Mother_IDType;\n                    this.inputMotherIdentificationNo = m.PAR_Mother_UID;\n                    this.inputParentAddress1 = m.PAR_Mother_Loc_Residence_No;\n                    this.inputParentAddress2 = m.PAR_Mother_Loc_Address1;\n                    this.inputParentAddress3 = m.PAR_Mother_Loc_Address2;\n                    this.inputParentCity = m.PAR_Mother_Loc_City;\n                    this.ddlParentCountry = m.PAR_Mother_Loc_Country;\n                    this.inputParentPostalCode = m.PAR_Mother_Loc_Postalcode;\n                    this.inputParentCity = m.PAR_Mother_City;\n                    this.ddlParentCountry = m.PAR_Mother_Country;\n                    this.inputParentPostalCode = m.PAR_Mother_PostalCode;\n                    this.inputParentLandlineNo = m.PAR_GarResContact;\n                    this.inputParentAddress1 = m.PAR_Guardian_Loc_Residence_No;\n                    this.inputParentAddress1 = m.PAR_Guardian_Loc_City;\n                    this.inputParentAddress2 = m.PAR_Guardian_Loc_Country;\n                    this.inputParentAddress3 = m.PAR_Guardian_Loc_PostalCode;\n                    this.inputParentAddress1 = m.PAR_Guardian_Residence_No;\n                    this.inputParentAddress2 = m.PAR_Guardian_Address1;\n                    this.inputParentAddress3 = m.PAR_Guardian_Address2;\n                    this.inputParentCity = m.PAR_Guardian_City;\n                    this.ddlParentCountry = m.PAR_Guardian_Country;\n                    this.inputParentPostalCode = m.PAR_Guardian_Postalcode;\n                    this.inputFatherIdentificationNoExpiryDate = m.PAR_Father_IDExpDate_convert;\n                    this.inputMotherIdentificationNoExpiryDate = m.PAR_Mother_IDExpDate_convert;\n                    this.inputFamilyID = m.PAR_Family_Number;\n                });\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindStudentSibling() {\n            try {\n                const response = await DataSource.shared.getSibling('', this.$route.query.id);\n                if (response) {\n                    if (response.Table.length > 0)\n                    {\n                        this.siblingList = response.Table;\n                    }\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async Save() {\n            try {\n                //students\n                let jsonString = '\"Full_Name\":\"' + this.inputStudentFirstName + '\"';\n                jsonString = jsonString + ',\"Middle_name\":\"' + this.inputStudentMiddleName + '\"';\n                jsonString = jsonString + ',\"Last_name\":\"' + this.inputStudentLastName + '\"';\n                jsonString = jsonString + ',\"Sex\":\"' + this.ddlStudentGender + '\"';\n                jsonString = jsonString + ',\"st_corr_add_flrNo\":\"' + this.inputStudentCorrespondanceAddress1 + '\"';\n                jsonString = jsonString + ',\"st_corr_add_blkNo\":\"' + this.inputStudentCorrespondanceAddress2 + '\"';\n                jsonString = jsonString + ',\"st_corr_add_stName\":\"' + this.inputStudentCorrespondanceCity + '\"';\n                jsonString = jsonString + ',\"st_corr_add_pstcode\":\"' + this.inputStudentCorrespondancePostalCode + '\"';\n                jsonString = jsonString + ',\"st_prm_add_pstcode\":\"' + this.inputStudentPostalCode + '\"';\n                jsonString = jsonString + ',\"st_prm_add_blkNo\":\"' + this.inputStudentAddress1 + '\"';\n                jsonString = jsonString + ',\"st_prm_add_flrNo\":\"' + this.inputStudentAddress2 + '\"';\n                jsonString = jsonString + ',\"st_prm_add_BlgName\":\"' + this.inputStudentAddress3 + '\"';\n                jsonString = jsonString + ',\"DOB\":\"' + this.inputStudentDateOfBirth + '\"';\n                jsonString = jsonString + ',\"St_Religion\":\"' + this.ddlStudentReligion + '\"';\n                jsonString = jsonString + ',\"Nationality\":\"' + this.ddlStudentNationality + '\"';\n                jsonString = jsonString + ',\"Regst_date\":\"' + this.inputFirstCommencementDate + '\"';\n                jsonString = jsonString + ',\"st_prm_add_country\":\"' + this.ddlStudentAddressCountry + '\"';\n                jsonString = jsonString + ',\"Handphone\":\"' + this.inputStudentMobileNo + '\"';\n                jsonString = jsonString + ',\"st_corr_add_BlgName\":\"' + this.inputStudentCorrespondanceAddress3 + '\"';\n                jsonString = jsonString + ',\"student_type\":\"' + this.ddlStudentResidencyStatus + '\"';\n                jsonString = jsonString + ',\"sponsor_type\":\"' + this.ddlStudentPayer + '\"';\n                jsonString = jsonString + ',\"ID_Type\":\"' + this.ddlStudentIdentificationType + '\"';\n                jsonString = jsonString + ',\"ID_Number\":\"' + this.inputStudentIdentificationNo + '\"';\n                jsonString = jsonString + ',\"st_prm_add_stName\":\"' + this.inputStudentCity + '\"';\n                jsonString = jsonString + ',\"st_corr_add_country\":\"' + this.ddlStudentAddressCorrespondanceCountry + '\"';\n                jsonString = jsonString + ',\"Fax\":\"' + this.inputStudent2ndEmergencyContactNo + '\"';\n                jsonString = jsonString + ',\"email\":\"' + this.inputStudentEmail + '\"';\n                jsonString = jsonString + ',\"Telephone\":\"' + this.inputStudent1stEmergencyContactNo + '\"';\n                jsonString = jsonString + ',\"Offphone\":\"' + this.inputStudentOfficeTelNo + '\"';\n                jsonString = jsonString + ',\"Course_Type\":\"' + this.ddlStudentSelectLevel + '\"';\n                jsonString = jsonString + ',\"Family_Doctor\":\"' + this.inputNameofFamilyDoctor + '\"';\n                jsonString = jsonString + ',\"Ailments\":\"' + this.taMajorAilmentsList + '\"';\n                jsonString = jsonString + ',\"medication_allergic_to\":\"' + this.taMedicationAllergiesList + '\"';\n                jsonString = jsonString + ',\"BLD_grp\":\"' + this.inputBloodGroup + '\"';\n                jsonString = jsonString + ',\"BLD_donor_no\":\"' + this.inputBloodDonorNo + '\"';\n                jsonString = jsonString + ',\"clinic_add\":\"' + this.inputClinicAddress + '\"';\n                jsonString = jsonString + ',\"clinic_ph_no\":\"' + this.inputClinicPhoneNo + '\"';\n                jsonString = jsonString + ',\"Semester\":\"' + this.ddlStudentFirstAcademicYear + '\"';\n                jsonString = jsonString + ',\"St_Preferred_Name\":\"' + this.inputStudentPreferredName + '\"';\n                jsonString = jsonString + ',\"St_Mother_Tongue\":\"' + this.ddlStudentAdditionalLanguage + '\"';\n                jsonString = jsonString + ',\"St_Meal_Preferences\":\"' + this.ddlStudentMealPreferences + '\"';\n                jsonString = jsonString + ',\"St_Birth_Place\":\"' + this.ddlStudentBirthPlace + '\"';\n                jsonString = jsonString + ',\"St_AdditionalLanguage\":\"' + this.inputStudentFirstLanguageSpoken + '\"';\n                jsonString = jsonString + ',\"St_SecondLanguageSpoken\":\"' + this.inputSecondLanguageSpoken + '\"';\n                jsonString = jsonString + ',\"ST_StudentMemership\":\"' + this.ddlStudentMembership + '\"';\n                jsonString = jsonString + ',\"ID_ExpDate\":\"' + this.inputStudentIdentificationExpiryDate + '\"';\n                //students\n\n                //parent\n                let jsonString2 = '\"PAR_Mode\":\"' + this.ddlParentMode + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_FirstName\":\"' + this.inputFatherFirstName + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_MiddleName\":\"' + this.inputFatherMiddleName + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_LastName\":\"' + this.inputFatherLastName + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_DOB\":\"' + this.inputFatherDateofBirth + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Occupation\":\"' + this.inputFatherOccupation + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_FatResContact\":\"' + this.inputParentLandlineNo  + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Phone\":\"' + this.inputFatherMobileNo + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Email\":\"' + this.inputFatherEmail + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_IDType\":\"' + this.ddlFatherIdentificationType + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_UID\":\"' + this.inputFatherIdentificationNo + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Residence_No\":\"' + this.inputParentAddress1 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Address1\":\"' + this.inputParentAddress2 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Address2\":\"' + this.inputParentAddress3 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Postalcode\":\"' + this.inputParentPostalCode + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Loc_City\":\"' + this.inputParentCity + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Country\":\"' + this.ddlParentCountry + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_City\":\"' + this.inputParentCity + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Country\":\"' + this.ddlParentCountry + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_PostalCode\":\"' + this.inputParentPostalCode + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_FirstName\":\"' + this.inputMotherFirstName + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_MiddleName\":\"' + this.inputMotherMiddleName + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_LastName\":\"' + this.inputMotherLastName + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_DOB\":\"' + this.inputMotherDateofBirth + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Occupation\":\"' + this.inputMotherOccupation + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_MotResContact\":\"' + this.inputParentLandlineNo + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Phone\":\"' + this.inputMotherMobileNo + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Email\":\"' + this.inputMotherEmail + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_IDType\":\"' + this.ddlMotherIdentificationType + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_UID\":\"' + this.inputMotherIdentificationNo + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Residence_No\":\"' + this.inputParentAddress1 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Address1\":\"' + this.inputParentAddress2 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Address2\":\"' + this.inputParentAddress3 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_City\":\"' + this.inputParentCity + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Country\":\"' + this.ddlParentCountry + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Postalcode\":\"' + this.inputParentPostalCode + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_City\":\"' + this.inputParentCity + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Country\":\"' + this.ddlParentCountry + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_PostalCode\":\"' + this.inputParentPostalCode + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_GarResContact\":\"' + this.inputParentLandlineNo + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_Residence_No\":\"' + this.inputParentAddress1 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_City\":\"' + this.inputParentAddress1 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_Country\":\"' + this.inputParentAddress2 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_PostalCode\":\"' + this.inputParentAddress3 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Residence_No\":\"' + this.inputParentAddress1 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Address1\":\"' + this.inputParentAddress2 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Address2\":\"' + this.inputParentAddress3 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_City\":\"' + this.inputParentCity + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Country\":\"' + this.ddlParentCountry + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Postalcode\":\"' + this.inputParentPostalCode + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_IDExpDate\":\"' + this.inputFatherIdentificationNoExpiryDate + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_IDExpDate\":\"' + this.inputMotherIdentificationNoExpiryDate + '\"';\n                //parent\n\n                jsonString = '{ ' + jsonString + ' }'\n                jsonString2 = '{ ' + jsonString2 + ' }'\n\n                if (this.lblCreateOrEdit == \"New\")\n                {\n                    const chkStuRes = await DataSource.shared.checkStudentDuplication(this.inputStudentFirstName, this.inputStudentLastName, this.inputStudentDateOfBirth, this.ddlStudentIdentificationType, this.inputStudentIdentificationNo);\n                    if (chkStuRes) {\n                        if (chkStuRes.code == \"1\")\n                        {\n                            const saveStuRes = await DataSource.shared.saveStudent(jsonString);\n                            if (chkStuRes) {\n                                if (saveStuRes.code == \"1\")\n                                {\n                                    let studentID = saveStuRes.studentID;\n\n                                    //parent\n                                    if (this.inputFamilyID == \"\")\n                                    {\n                                        const saveParRes = await DataSource.shared.saveParent(jsonString2, studentID);\n\n                                        if (saveParRes)\n                                        {\n                                            if (saveParRes.code != \"1\")\n                                            {\n                                                alert('Save Parent Error - Please try again later');\n                                            }\n                                        }\n                                    }\n                                    else\n                                    {\n                                        const saveParRes = await DataSource.shared.saveParentWithFamilyID(this.inputFamilyParentID, studentID);\n\n                                        if (saveParRes)\n                                        {\n                                            if (saveParRes.code != \"1\")\n                                            {\n                                                alert('Save Parent With Family ID Error - Please try again later');\n                                            }\n                                        }\n                                    }\n                                    //parent\n\n                                    //set level\n                                    const getAcaYearRes = await DataSource.shared.getAcademicYearDateRange(this.ddlStudentFirstAcademicYear);\n\n                                    if (getAcaYearRes)\n                                    {\n                                        if (getAcaYearRes.code == \"99\")\n                                        {\n                                            alert('Get Academic Year Error - Please try again later');\n                                        }\n                                        else\n                                        {\n                                            let academicYearFromDate, academicYearToDate;\n\n                                            this.getAcaYearResTemp = getAcaYearRes.Table;\n                                            this.getAcaYearResTemp.forEach(m => {\n                                                academicYearFromDate = m.SMT_From;\n                                                academicYearToDate = m.SMT_To;\n                                            });\n\n                                            const getSetLvlRes = await DataSource.shared.setLevel(studentID, this.ddlStudentSelectLevel, academicYearFromDate, academicYearToDate, this.ddlStudentFirstAcademicYear, this.ddlStudentIntakeYear);\n\n                                            if (getSetLvlRes)\n                                            {\n                                                if (getSetLvlRes.code == \"1\")\n                                                {\n                                                    //this.$router.push('Student?id=' + studentID);\n                                                    alert('Records Successfully Saved');\n                                                    window.location.replace('/student?id=' + studentID);\n                                                }\n                                                else\n                                                {\n                                                    alert('Save Student Level Error - Please try again later');\n                                                }\n                                            }\n                                        }\n                                    }\n                                    //set level\n                                }\n                                else\n                                {\n                                    alert(\"Save Student Error - Please try again later\");\n                                }\n                            }\n                        }\n                        else if (chkStuRes.code == \"2\")\n                        {\n                            alert(\"This student is existing\");\n                        }\n                        else\n                        {\n                            alert(\"Check Student Error - Please try again later\");\n                        }\n                    }\n                }\n                else if (this.lblCreateOrEdit == \"Edit\")\n                {\n                    try {\n                        const response = await DataSource.shared.updateStudent(this.lblStudentID, jsonString);\n                        if (response) {\n                            if (response.code == 1)\n                            {\n                                alert('Records Successfully Edited');\n                                window.location.replace('/student?id=' + this.lblStudentID);\n                            }\n                            else\n                                {\n                                alert('Update Student Error - Please try again later');\n                            }\n                        }\n                    } catch (e) {\n                        this.results = e;\n                    }\n                }\n                else\n                {\n                    //this.$message(\"Error! Please try again later\")\n                    alert(\"Error! Please try again later\");\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async SearchFamilyID() {\n            try {\n                const response = await DataSource.shared.getRelationship(this.$refs.familyIDFamilyNo.value, '', this.$refs.familyParentFirstName.value, this.$refs.familyParentLastName.value, this.$refs.familyIDStudentName.value);\n                if (response) {\n                    this.familyIDList = response.Table;\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async CheckParentDup(){\n            try {\n                if (this.inputMotherFirstName !== '' && this.inputMotherLastName !== '')\n                {\n                    const response = await DataSource.shared.checkParentDuplication(this.inputMotherFirstName, this.inputMotherLastName, 'Mother');\n                    if (response) {\n                        if (response.code == 1)\n                        {\n                            this.lblMotherNameDuplicated = false;\n                        }\n                        else if (response.code == 2)\n                        {\n                            this.lblMotherNameDuplicated = true;\n                        }\n                    }\n                }\n\n                if (this.inputFatherFirstName !== '' && this.inputFatherLastName !== '')\n                {\n                    const response = await DataSource.shared.checkParentDuplication(this.inputFatherFirstName, this.inputFatherLastName, 'Father');\n                    if (response) {\n                        if (response.code == 1)\n                        {\n                            this.lblFatherNameDuplicated = false;\n                        }\n                        else if (response.code == 2)\n                        {\n                            this.lblFatherNameDuplicated = true;\n                        }\n                    }\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async Active(){\n            try {\n                const response = await DataSource.shared.activeStudent(this.lblStudentID);\n                if (response) {\n                    if (response.code == 1)\n                    {\n                        alert('Successfully activated');\n                        window.location.replace('/student?id=' + this.lblStudentID);\n                    }\n                    else\n                    {\n                        alert('Please try again later');\n                    }\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async Validation(){\n            try {\n                this.$v.$touch();\n\n                if(this.$v.$error)\n                {\n                    alert('Please fill in all * fields');\n                    return;\n                }\n\n                this.Save();\n            } catch (e) {\n                this.results = e;\n            }\n        },\n    },\n}\n",{"version":3,"sources":["Student.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0lBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Student.vue","sourceRoot":"src\\pages","sourcesContent":["<template>\r\n    <div id=\"student\" class=\"mt-3 container\">\r\n        <div class=\"row form-group col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n            <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\" style=\"text-align:left;\">\r\n                <label style=\"display:inline !important;\" >Mode: </label><label style=\"display:inline !important;\">{{lblCreateOrEdit}}</label>\r\n                <label style=\"display:none !important;\">{{lblStudentID}}</label>\r\n                <label style=\"display:none !important;\">{{lblParentID}}</label>\r\n            </div>\r\n        </div>\r\n\r\n        <b-tabs class=\"studentPageBTabs\">\r\n            <b-tab title=\"Student\" active>\r\n                <div class=\"row form-group col-lg-12 col-md-12 col-sm-12 col-xs-12\" >\r\n                    <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 studentAreaDiv\">\r\n                        <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                            <h2>Student's Personal Information</h2>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* First Name</label>\r\n                            <input type=\"text\" class=\"form-control form__input\" v-model=\"inputStudentFirstName\" :class=\"{ 'requiredFields': $v.inputStudentFirstName.$error }\">\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.inputStudentFirstName.$error\">First Name Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Middle Name</label>\r\n                            <input type=\"text\" class=\"form-control\" v-model=\"inputStudentMiddleName\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Last Name</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentLastName\" :class=\"{ 'requiredFields': $v.inputStudentLastName.$error }\">\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.inputStudentLastName.$error\">Last Name Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Preferred Name</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentPreferredName\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Nationality</label>\r\n                            <select v-model=\"ddlStudentNationality\" class=\"form-control pro-edt-select form-control-primary\" :class=\"{ 'requiredFields': $v.ddlStudentNationality.$error }\">\r\n                                <option v-for=\"item in countryList\" v-bind:value=\"item.CNYnationality.trim()\">{{ item.CNYname.trim() }}</option>\r\n                            </select>\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.ddlStudentNationality.$error\">Nationality Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Gender</label>\r\n                            <select v-model=\"ddlStudentGender\" class=\"form-control pro-edt-select form-control-primary\">\r\n                                <option value=\"Male\">Male</option>\r\n                                <option value=\"Female\">Female</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Date of Birth</label>\r\n                            <div class=\"date\">\r\n                                <el-date-picker v-model=\"inputStudentDateOfBirth\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a date\" :class=\"{ 'requiredFields': $v.inputStudentDateOfBirth.$error }\"></el-date-picker>\r\n                            </div>\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.inputStudentDateOfBirth.$error\">First Name Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Birth Place</label>\r\n                            <select v-model=\"ddlStudentBirthPlace\" class=\"form-control pro-edt-select form-control-primary\">\r\n                                <option v-for=\"item in countryList\" v-bind:value=\"item.CNYname.trim()\">{{ item.CNYname.trim() }}</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Identification Type</label>\r\n                            <select v-model=\"ddlStudentIdentificationType\" class=\"form-control pro-edt-select form-control-primary\" :class=\"{ 'requiredFields': $v.ddlStudentIdentificationType.$error }\">\r\n                                <option v-for=\"item in ddlStudentIdentificationTypeList\" v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}</option>\r\n                            </select>\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.ddlStudentIdentificationType.$error\">FIdentification Type Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Identification No</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentIdentificationNo\" :class=\"{ 'requiredFields': $v.inputStudentIdentificationNo.$error }\">\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.inputStudentIdentificationNo.$error\">Identification No Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Identification Expiry Date</label>\r\n                            <div class=\"date\">\r\n                                <el-date-picker v-model=\"inputStudentIdentificationExpiryDate\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a day\" :class=\"{ 'requiredFields': $v.inputStudentIdentificationExpiryDate.$error }\"></el-date-picker>\r\n                            </div>\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.inputStudentIdentificationExpiryDate.$error\">First Name Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Religion</label>\r\n                            <select v-model=\"ddlStudentReligion\" class=\"form-control pro-edt-select form-control-primary\">\r\n                                <!--<option v-for=\"item in ddlStudentReligionList\" v-bind:value=\"{ id: item.OPTvalue.trim(), text: item.OPTvalue.trim() }\">{{ item.OPTvalue.trim() }}</option>-->\r\n                                <option v-for=\"item in ddlStudentReligionList\" v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Additional Language</label>\r\n                            <select v-model=\"ddlStudentAdditionalLanguage\" class=\"form-control pro-edt-select form-control-primary\">\r\n                                <option v-for=\"item in ddlStudentAdditionalLanguageList\" v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>1st Emergency Contact No</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudent1stEmergencyContactNo\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>2nd Emergency Contact No</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudent2ndEmergencyContactNo\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Meal Preferences</label>\r\n                            <select v-model=\"ddlStudentMealPreferences\" class=\"form-control pro-edt-select form-control-primary\">\r\n                                <option v-for=\"item in ddlStudentMealPreferencesList\" v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>First Language Spoken</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentFirstLanguageSpoken\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Second Language Spoken</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputSecondLanguageSpoken\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Membership</label>\r\n                            <select v-model=\"ddlStudentMembership\" class=\"form-control pro-edt-select form-control-primary\">\r\n                                <option v-for=\"item in ddlStudentMembershipList\" v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 studentAreaDiv\">\r\n                        <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                            <h2>Student's Registration Details</h2>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Select Level</label>\r\n                            <select v-model=\"ddlStudentSelectLevel\" class=\"form-control pro-edt-select form-control-primary\" :class=\"{ 'requiredFields': $v.ddlStudentSelectLevel.$error }\">\r\n                                <option v-for=\"item in levelList\" v-bind:value=\"item.PK_Course_ID.trim()\">{{ item.CRS_Course_Name.trim() }}</option>\r\n                            </select>\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.ddlStudentSelectLevel.$error\">Level Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* First Commencement Date</label>\r\n                            <div class=\"date\">\r\n                                <el-date-picker v-model=\"inputFirstCommencementDate\" type=\"date\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" placeholder=\"Pick a day\" :class=\"{ 'requiredFields': $v.inputFirstCommencementDate.$error }\"></el-date-picker>\r\n                            </div>\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.inputFirstCommencementDate.$error\">First Commencement Date Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* First Academic Year</label>\r\n                            <select v-model=\"ddlStudentFirstAcademicYear\" class=\"form-control pro-edt-select form-control-primary\" :class=\"{ 'requiredFields': $v.ddlStudentFirstAcademicYear.$error }\">\r\n                                <option v-for=\"item in academicYearList\" v-bind:value=\"item.PK_Semester_ID.trim()\">{{ item.SMT_Code.trim() }}</option>\r\n                            </select>\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.ddlStudentFirstAcademicYear.$error\">First Academic Year Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Residency Status</label>\r\n                            <select v-model=\"ddlStudentResidencyStatus\" class=\"form-control pro-edt-select form-control-primary\">\r\n                                <option v-for=\"item in ddlStudentResidencyStatusList\" v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Payer</label>\r\n                            <select v-model=\"ddlStudentPayer\" class=\"form-control pro-edt-select form-control-primary\" :class=\"{ 'requiredFields': $v.ddlStudentPayer.$error }\">\r\n                                <option v-for=\"item in ddlStudentPayerList\" v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}</option>\r\n                            </select>\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.ddlStudentPayer.$error\">Payer Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Student ID</label>\r\n                            <input type=\"text\" class=\"form-control\" v-model=\"inputStudentID\" readonly=\"readonly\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Intake Year</label>\r\n                            <select v-model=\"ddlStudentIntakeYear\" class=\"form-control pro-edt-select form-control-primary\" :class=\"{ 'requiredFields': $v.ddlStudentIntakeYear.$error }\">\r\n                                <option v-for=\"item in studentIntakeYearList\" v-bind:value=\"item.PK_PAI_ID.trim()\">{{ item.PAI_Intake_No.trim() }}</option>\r\n                            </select>\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.ddlStudentIntakeYear.$error\">Intake Year Require</div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 studentAreaDiv\">\r\n                        <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                            <h2>Student's Permanent Address</h2>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Address 1</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentAddress1\" :class=\"{ 'requiredFields': $v.inputStudentAddress1.$error }\">\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.inputStudentAddress1.$error\">Address 1 Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Address 2</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentAddress2\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Address 3</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentAddress3\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>City</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentCity\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Country</label>\r\n                            <select v-model=\"ddlStudentAddressCountry\" class=\"form-control pro-edt-select form-control-primary\">\r\n                                <option v-for=\"item in countryList\" v-bind:value=\"item.CNYname.trim()\">{{ item.CNYname.trim() }}</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Postal Code</label>\r\n                            <input type=\"text\" class=\"form-control\" v-model=\"inputStudentPostalCode\" :class=\"{ 'requiredFields': $v.inputStudentPostalCode.$error }\">\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.inputStudentPostalCode.$error\">Postal Code Require</div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 studentAreaDiv\">\r\n                        <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                            <h2>Student's Correspondance Address</h2>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Address 1</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentCorrespondanceAddress1\" :class=\"{ 'requiredFields': $v.inputStudentCorrespondanceAddress1.$error }\">\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.inputStudentCorrespondanceAddress1.$error\">Address 1 Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Address 2</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentCorrespondanceAddress2\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Address 3</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentCorrespondanceAddress3\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>City</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentCorrespondanceCity\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Country</label>\r\n                            <select v-model=\"ddlStudentAddressCorrespondanceCountry\" class=\"form-control pro-edt-select form-control-primary\">\r\n                                <option v-for=\"item in countryList\" v-bind:value=\"item.CNYname.trim()\">{{ item.CNYname.trim() }}</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>* Postal Code</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentCorrespondancePostalCode\" :class=\"{ 'requiredFields': $v.inputStudentCorrespondancePostalCode.$error }\">\r\n                            <div class=\"requiredFieldsMsg\" v-if=\"$v.inputStudentCorrespondancePostalCode.$error\">Postal Code Require</div>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Mobile No</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentMobileNo\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Home Tel No</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentOfficeTelNo\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Email</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentEmail\">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 studentAreaDiv\">\r\n                        <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                            <h2>Student's Medical Details</h2>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Major Ailments List</label>\r\n                            <textarea rows=\"3\" style=\"width:100%;resize:none;\" v-model=\"taMajorAilmentsList\"></textarea>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Medication Allergies List</label>\r\n                            <textarea rows=\"3\" style=\"width:100%;resize:none;\" v-model=\"taMedicationAllergiesList\"></textarea>\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Blood Group</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputBloodGroup\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Blood Donor No</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputBloodDonorNo\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Name of Family Doctor</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputNameofFamilyDoctor\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Clinic Address</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputClinicAddress\">\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                            <label>Clinic Phone No</label>\r\n                            <input type=\"text\" class=\"form-control\"  v-model=\"inputClinicPhoneNo\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </b-tab>\r\n            <b-tab title=\"Parents\">\r\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                    <div class=\"review-content-section\">\r\n                        <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 familyIDAreaDiv\">\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Family No</label>\r\n                                <input type=\"text\" class=\"form-control\" v-model=\"inputFamilyID\" readonly=\"readonly\">\r\n                                <input type=\"text\" class=\"form-control\" v-model=\"inputFamilyParentID\" style=\"display:none;\" >\r\n                            </div>\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label style=\"width:100%;\">Search Family</label>\r\n                                <b-btn v-b-modal.familyModal variant=\"primary\" v-bind:disabled=\"editModeDisable\">Search</b-btn>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 parentAreaDiv\">\r\n                            <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                                <h2>Father's Details</h2>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>* Parent Mode</label>\r\n                                <select v-model=\"ddlParentMode\" v-bind:disabled=\"editModeDisable\" class=\"form-control pro-edt-select form-control-primary\" :class=\"{ 'requiredFields': $v.ddlParentMode.$error }\">\r\n                                    <option v-for=\"item in ddlParentModeList\" v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}</option>\r\n                                </select>\r\n                                <div class=\"requiredFieldsMsg\" v-if=\"$v.ddlParentMode.$error\">Parent Mode Require</div>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>* First Name</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherFirstName\" v-bind:disabled=\"editModeDisable\" v-on:blur=\"CheckParentDup()\" :class=\"{ 'requiredFields': $v.inputFatherFirstName.$error }\">\r\n                                <div class=\"requiredFieldsMsg\" v-if=\"$v.inputFatherFirstName.$error\">First Name Require</div>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Middle Name</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherMiddleName\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>* Last Name</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherLastName\" v-bind:disabled=\"editModeDisable\" v-on:blur=\"CheckParentDup()\" :class=\"{ 'requiredFields': $v.inputFatherLastName.$error }\">\r\n                                <div class=\"requiredFieldsMsg\" v-if=\"$v.inputFatherLastName.$error\">Last Name Require</div>\r\n                                <label v-if=\"lblFatherNameDuplicated\">Father name is duplicated, please double confirm</label>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Date of Birth</label>\r\n                                <div class=\"date\">\r\n                                    <el-date-picker v-model=\"inputFatherDateofBirth\" v-bind:disabled=\"editModeDisable\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a day\"></el-date-picker>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>* Occupation</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherOccupation\" v-bind:disabled=\"editModeDisable\" :class=\"{ 'requiredFields': $v.inputFatherOccupation.$error }\">\r\n                                <div class=\"requiredFieldsMsg\" v-if=\"$v.inputFatherOccupation.$error\">Occupation Require</div>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Identification Type</label>\r\n                                <select v-model=\"ddlFatherIdentificationType\" v-bind:disabled=\"editModeDisable\" class=\"form-control pro-edt-select form-control-primary\">\r\n                                    <option v-for=\"item in ddlFatherIdentificationTypeList\" v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Identification No</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherIdentificationNo\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Identification No Expiry Date</label>\r\n                                <div class=\"date\">\r\n                                    <el-date-picker v-model=\"inputFatherIdentificationNoExpiryDate\" v-bind:disabled=\"editModeDisable\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a day\"></el-date-picker>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Mobile No</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherMobileNo\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Email</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherEmail\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 parentAreaDiv\">\r\n                            <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                                <h2>Mother's Details</h2>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>* First Name</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputMotherFirstName\" v-bind:disabled=\"editModeDisable\" v-on:blur=\"CheckParentDup()\" :class=\"{ 'requiredFields': $v.inputMotherFirstName.$error }\">\r\n                                <div class=\"requiredFieldsMsg\" v-if=\"$v.inputMotherFirstName.$error\">First Name Require</div>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Middle Name</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputMotherMiddleName\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>* Last Name</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputMotherLastName\" v-bind:disabled=\"editModeDisable\" v-on:blur=\"CheckParentDup()\" :class=\"{ 'requiredFields': $v.inputMotherLastName.$error }\">\r\n                                <div class=\"requiredFieldsMsg\" v-if=\"$v.inputMotherLastName.$error\">Last Name Require</div>\r\n                                <label v-if=\"lblMotherNameDuplicated\">Mother name is duplicated, please double confirm</label>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Date of Birth</label>\r\n                                <div class=\"date\">\r\n                                    <el-date-picker v-model=\"inputMotherDateofBirth\" v-bind:disabled=\"editModeDisable\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a day\"></el-date-picker>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Occupation</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputMotherOccupation\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Identification Type</label>\r\n                                <select v-model=\"ddlMotherIdentificationType\" v-bind:disabled=\"editModeDisable\" class=\"form-control pro-edt-select form-control-primary\">\r\n                                    <option v-for=\"item in ddlMotherIdentificationTypeList\" v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Identification No</label>\r\n                                <input type=\"text\" class=\"form-control\" v-model=\"inputMotherIdentificationNo\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Identification No Expiry Date</label>\r\n                                <div class=\"date\">\r\n                                    <el-date-picker v-model=\"inputMotherIdentificationNoExpiryDate\" v-bind:disabled=\"editModeDisable\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a day\"></el-date-picker>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Mobile No</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputMotherMobileNo\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Email</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputMotherEmail\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 parentAreaDiv\">\r\n                            <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                                <h2>Residential/Billing Address</h2>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>* Address 1</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputParentAddress1\" v-bind:disabled=\"editModeDisable\" :class=\"{ 'requiredFields': $v.inputParentAddress1.$error }\">\r\n                                <div class=\"requiredFieldsMsg\" v-if=\"$v.inputParentAddress1.$error\">Address 1 Require</div>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Address 2</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputParentAddress2\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Address 3</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputParentAddress3\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>City</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputParentCity\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Landline No</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputParentLandlineNo\" v-bind:disabled=\"editModeDisable\">\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>Country</label>\r\n                                <select v-model=\"ddlParentCountry\" v-bind:disabled=\"editModeDisable\" class=\"form-control pro-edt-select form-control-primary\">\r\n                                    <option v-for=\"item in countryList\" v-bind:value=\"item.CNYname.trim()\">{{ item.CNYname.trim() }}</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                <label>* Postal Code</label>\r\n                                <input type=\"text\" class=\"form-control\"  v-model=\"inputParentPostalCode\" v-bind:disabled=\"editModeDisable\" :class=\"{ 'requiredFields': $v.inputParentPostalCode.$error }\">\r\n                                <div class=\"requiredFieldsMsg\" v-if=\"$v.inputParentPostalCode.$error\">Postal Code Require</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </b-tab>\r\n            <b-tab title=\"Sibling\" v-if=\"siblingTab\">\r\n                <div v-if=\"siblingList.length>0\">\r\n                    <data-tables :data=\"siblingList\">\r\n                        <el-table-column type=\"selection\" width=\"55\">\r\n                        </el-table-column>\r\n\r\n                        <el-table-column v-for=\"siblingListInfo in siblingListAll\" :prop=\"siblingListInfo.prop\" :label=\"siblingListInfo.label\" :key=\"siblingListInfo.prop\"\r\n                                         sortable=\"custom\">\r\n                        </el-table-column>\r\n                    </data-tables>\r\n                </div>\r\n                <div v-else>\r\n                    <label>No Record Found...</label>\r\n                </div>\r\n            </b-tab>\r\n        </b-tabs>\r\n\r\n        <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\r\n            <div class=\"text-center mg-b-pro-edt custom-pro-edt-ds\">\r\n                <button v-on:click=\"Validation\" type=\"button\" class=\"btn btn-primary waves-effect waves-light m-r-10\" >Save</button>\r\n                <button v-if=\"btnActive\" v-on:click=\"Active\" type=\"button\" class=\"btn btn-primary waves-effect waves-light m-r-10\" style=\"margin-left:10px;\">Activate</button>\r\n            </div>\r\n        </div>\r\n\r\n        <b-modal id=\"familyModal\" class=\"studentPageBModal\" size=\"lg\" title=\"Search Family ID\" ok-only ok-variant=\"secondary\" ok-title=\"Cancel\" ref=\"familyModalShowModal\">\r\n            <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Student Name</label>\r\n                    <input type=\"text\" class=\"form-control\"  ref=\"familyIDStudentName\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Family No</label>\r\n                    <input type=\"text\" class=\"form-control\"  ref=\"familyIDFamilyNo\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Parent First Name</label>\r\n                    <input type=\"text\" class=\"form-control\"  ref=\"familyParentFirstName\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Parent Last Name</label>\r\n                    <input type=\"text\" class=\"form-control\"  ref=\"familyParentLastName\">\r\n                </div>\r\n\r\n                <div v-if=\"familyIDList.length>0\" class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                    <data-tables :data=\"familyIDList\" :action-col=\"actionCol\" @selection-change=\"handleSelectionChange\">\r\n                        <el-table-column v-for=\"familyIDListInfo in familyIDListAll\" :prop=\"familyIDListInfo.prop\" :label=\"familyIDListInfo.label\" :key=\"familyIDListInfo.prop\"\r\n                                         sortable=\"custom\">\r\n                        </el-table-column>\r\n                    </data-tables>\r\n                </div>\r\n\r\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                    <button v-on:click=\"SearchFamilyID\" class=\"btn btn-primary waves-effect waves-light m-r-10 btnFamilyIDSearch\">Search</button>\r\n                </div>\r\n            </div>\r\n        </b-modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import DataSource from \"../data/datasource\";\r\n    import { required } from \"vuelidate/lib/validators\";\r\n\r\n    export default {\r\n        name: \"Student\",\r\n        async created() {\r\n            await this.BindCountryList();\r\n            await this.BindStudentDropdown();\r\n            await this.BindStudentLevel();\r\n            await this.BindAcademicYear();\r\n            await this.BindStudentIntakeYear();\r\n        },\r\n        async mounted() {\r\n            await this.LoadStudentParentInfo();\r\n        },\r\n        data() {\r\n            return {\r\n                countryList: [],\r\n                ddlStudentIdentificationTypeList: [],\r\n                ddlStudentReligionList: [],\r\n                ddlStudentAdditionalLanguageList: [],\r\n                ddlStudentMealPreferencesList: [],\r\n                ddlStudentMembershipList: [],\r\n                ddlStudentResidencyStatusList: [],\r\n                ddlStudentPayerList: [],\r\n                ddlFatherIdentificationTypeList: [],\r\n                ddlMotherIdentificationTypeList: [],\r\n                ddlParentModeList: [],\r\n                levelList: [],\r\n                academicYearList: [],\r\n                studentIntakeYearList: [],\r\n\r\n                inputStudentDateOfBirth: '',\r\n                inputFatherDateofBirth: '',\r\n                inputStudentIdentificationExpiryDate: '',\r\n                inputFirstCommencementDate: '',\r\n                inputFatherIdentificationNoExpiryDate: '',\r\n                inputMotherDateofBirth: '',\r\n                inputMotherIdentificationNoExpiryDate: '',\r\n                ddlStudentGender: '',\r\n                inputStudentFirstName: '',\r\n                inputStudentMiddleName: '',\r\n                inputStudentLastName: '',\r\n                inputStudentPreferredName: '',\r\n                ddlStudentNationality: '',\r\n                ddlStudentBirthPlace: '',\r\n                inputStudentIdentificationNo: '',\r\n                inputStudent1stEmergencyContactNo: '',\r\n                inputStudent2ndEmergencyContactNo: '',\r\n                inputStudentFirstLanguageSpoken: '',\r\n                inputSecondLanguageSpoken: '',\r\n                ddlStudentSelectLevel: '',\r\n                ddlStudentFirstAcademicYear: '',\r\n                inputStudentID: '',\r\n                ddlStudentIntakeYear: '',\r\n                inputStudentAddress1: '',\r\n                inputStudentAddress2: '',\r\n                inputStudentAddress3: '',\r\n                inputStudentCity: '',\r\n                inputStudentPostalCode: '',\r\n                inputStudentCorrespondanceAddress1: '',\r\n                inputStudentCorrespondanceAddress2: '',\r\n                inputStudentCorrespondanceAddress3: '',\r\n                inputStudentCorrespondanceCity: '',\r\n                ddlStudentAddressCorrespondanceCountry: '',\r\n                inputStudentCorrespondancePostalCode: '',\r\n                inputStudentMobileNo: '',\r\n                inputStudentOfficeTelNo: '',\r\n                inputStudentEmail: '',\r\n                taMajorAilmentsList: '',\r\n                taMedicationAllergiesList: '',\r\n                inputBloodGroup: '',\r\n                inputBloodDonorNo: '',\r\n                inputNameofFamilyDoctor: '',\r\n                inputClinicAddress: '',\r\n                inputClinicPhoneNo: '',\r\n                inputFamilyID: '',\r\n                inputFamilyParentID: '',\r\n                inputFatherFirstName: '',\r\n                inputFatherMiddleName: '',\r\n                inputFatherLastName: '',\r\n                inputFatherOccupation: '',\r\n                inputFatherIdentificationNo: '',\r\n                inputFatherMobileNo: '',\r\n                inputFatherEmail: '',\r\n                inputMotherFirstName: '',\r\n                inputMotherMiddleName: '',\r\n                inputMotherLastName: '',\r\n                inputMotherOccupation: '',\r\n                inputMotherIdentificationNo: '',\r\n                inputMotherMobileNo: '',\r\n                inputMotherEmail: '',\r\n                inputParentAddress1: '',\r\n                inputParentAddress2: '',\r\n                inputParentAddress3: '',\r\n                inputParentCity: '',\r\n                inputParentLandlineNo: '',\r\n                ddlParentCountry: '',\r\n                inputParentPostalCode: '',\r\n                ddlStudentAddressCountry: '',\r\n                ddlStudentIdentificationType: '',\r\n                ddlStudentReligion: '',\r\n                ddlStudentAdditionalLanguage: '',\r\n                ddlStudentMealPreferences: '',\r\n                ddlStudentMembership: '',\r\n                ddlStudentResidencyStatus: '',\r\n                ddlStudentPayer: '',\r\n                ddlFatherIdentificationType: '',\r\n                ddlMotherIdentificationType: '',\r\n                ddlParentMode: '',\r\n\r\n                editModeDisable:'',\r\n                lblCreateOrEdit:'',\r\n                lblStudentID:'',\r\n                lblParentID: '',\r\n                btnActive: '',\r\n                lblMotherNameDuplicated: '',\r\n                lblFatherNameDuplicated: '',\r\n\r\n                siblingTab: '',\r\n                siblingList: [],\r\n                siblingListAll: [{\r\n                    prop: \"Index_No\",\r\n                    label: \"Student No\"\r\n                }, {\r\n                    prop: \"Full_Name\",\r\n                    label: \"First Name\"\r\n                }, {\r\n                    prop: \"Last_name\",\r\n                    label: \"Last Name\"\r\n                }, {\r\n                    prop: \"Regst_date_convert\",\r\n                    label: \"Regisration Date\"\r\n                }, {\r\n                    prop: \"CRS_Course_Name\",\r\n                    label: \"Level\"\r\n                }, {\r\n                    prop: \"SCH_Name\",\r\n                    label: \"Center Name\"\r\n                }],\r\n\r\n                familyIDList: [],\r\n                familyIDListAll: [{\r\n                prop: \"PAR_ID\",\r\n                label: \"Parent ID\"\r\n                }, {\r\n                    prop: \"PAR_Family_Number\",\r\n                    label: \"Family No\"\r\n                }, {\r\n                    prop: \"Parent_FName\",\r\n                    label: \"Father's Name\"\r\n                }, {\r\n                    prop: \"Parent_MName\",\r\n                    label: \"Mother's Name\"\r\n                }, {\r\n                    prop: \"Parent_GName\",\r\n                    label: \"Guardian's Name\"\r\n                }, {\r\n                    prop: \"PAR_Status\",\r\n                    label: \"Parent's Status\"\r\n                }],\r\n                actionCol: {\r\n                    label: 'Select',\r\n                    props: {\r\n                        align: 'center',\r\n                    },\r\n                    buttons: [{\r\n                        props: {\r\n                            type: 'primary',\r\n                            icon: 'el-icon-edit'\r\n                        },\r\n                        handler: row => {\r\n                            this.inputFamilyID = row.PAR_Family_Number;\r\n                            this.inputFamilyParentID = row.PAR_ID;\r\n                            this.$refs.familyModalShowModal.hide();\r\n                        },\r\n                        label: 'Select'\r\n                    }]\r\n                },\r\n\r\n                selectedRow: null,\r\n            };\r\n        },\r\n        validations: {\r\n            inputStudentFirstName: { required },\r\n            inputStudentLastName: { required },\r\n            ddlStudentNationality: { required },\r\n            inputStudentDateOfBirth: { required },\r\n            ddlStudentIdentificationType: { required },\r\n            inputStudentIdentificationNo: { required },\r\n            inputStudentIdentificationExpiryDate: { required },\r\n            ddlStudentSelectLevel: { required },\r\n            inputFirstCommencementDate: { required },\r\n            ddlStudentFirstAcademicYear: { required },\r\n            ddlStudentPayer: { required },\r\n            ddlStudentIntakeYear: { required },\r\n            inputStudentAddress1: { required },\r\n            inputStudentPostalCode: { required },\r\n            inputStudentCorrespondanceAddress1: { required },\r\n            inputStudentCorrespondancePostalCode: { required },\r\n            ddlParentMode: { required },\r\n            inputFatherFirstName: { required },\r\n            inputFatherLastName: { required },\r\n            inputFatherOccupation: { required },\r\n            inputMotherFirstName: { required },\r\n            inputMotherLastName: { required },\r\n            inputParentAddress1: { required },\r\n            inputParentPostalCode: { required },\r\n        },\r\n        methods: {\r\n            async BindCountryList() {\r\n                try {\r\n                    const response = await DataSource.shared.getCountryList();\r\n                    if (response) {\r\n                        this.countryListResponse = response.Table;\r\n                        this.countryListResponse.forEach(m => {\r\n                            this.countryList.push(m);\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindStudentDropdown() {\r\n                try {\r\n                    let jsonString = '\"Student Identification Type\":\"Student Identification Type\"';\r\n                    jsonString = jsonString + ',\"Religion\":\"Religion\"';\r\n                    jsonString = jsonString + ',\"Mother Tongue\":\"Mother Tongue\"';\r\n                    jsonString = jsonString + ',\"Meal Preferences\":\"Meal Preferences\"';\r\n                    jsonString = jsonString + ',\"Student Membership\":\"Student Membership\"';\r\n                    jsonString = jsonString + ',\"Residency Status\":\"Residency Status\"';\r\n                    jsonString = jsonString + ',\"Sponsorship Type\":\"Sponsorship Type\"';\r\n                    jsonString = jsonString + ',\"ParentID\":\"ParentID\"';\r\n                    jsonString = jsonString + ',\"Parent Mode\":\"Parent Mode\"';\r\n                    jsonString = \"{\" + jsonString + \"}\";\r\n\r\n                    const response = await DataSource.shared.getStudentDropDownList(jsonString);\r\n                    if (response) {\r\n                        this.studentDropDownListResponse = response.Table;\r\n                        this.studentDropDownListResponse.forEach(m => {\r\n\r\n                            if (m.OGPname.trim() === \"Student Identification Type\") {\r\n                                this.ddlStudentIdentificationTypeList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Religion') {\r\n                                this.ddlStudentReligionList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Mother Tongue') {\r\n                                this.ddlStudentAdditionalLanguageList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Meal Preferences') {\r\n                                this.ddlStudentMealPreferencesList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Student Membership') {\r\n                                this.ddlStudentMembershipList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Residency Status') {\r\n                                this.ddlStudentResidencyStatusList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Sponsorship Type') {\r\n                                this.ddlStudentPayerList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'ParentID') {\r\n                                this.ddlFatherIdentificationTypeList.push(m);\r\n                                this.ddlMotherIdentificationTypeList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Parent Mode') {\r\n                                this.ddlParentModeList.push(m);\r\n                            }\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindStudentLevel() {\r\n                try {\r\n                    const response = await DataSource.shared.getLevel('');\r\n                    if (response) {\r\n                        this.levelListResponse = response.Table;\r\n                        this.levelListResponse.forEach(m => {\r\n                            this.levelList.push(m);\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindAcademicYear() {\r\n                try {\r\n                    const response = await DataSource.shared.getAcademicYear();\r\n                    if (response) {\r\n                        this.academicYearListResponse = response.Table;\r\n                        this.academicYearListResponse.forEach(m => {\r\n                            this.academicYearList.push(m);\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindStudentIntakeYear() {\r\n                try {\r\n                    const response = await DataSource.shared.getIntakeYear();\r\n                    if (response) {\r\n                        this.studentIntakeYearListResponse = response.Table;\r\n                        this.studentIntakeYearListResponse.forEach(m => {\r\n                            this.studentIntakeYearList.push(m);\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async LoadStudentParentInfo() {\r\n                try {\r\n                    if (this.$route.query.id != null || this.$route.query.id != undefined)\r\n                    {\r\n                        this.lblCreateOrEdit = \"Edit\";\r\n                        this.lblStudentID = this.$route.query.id;\r\n                        this.editModeDisable = true;\r\n                        this.siblingTab = true;\r\n                        let parentID;\r\n\r\n                        const stuRes = await DataSource.shared.getStudent(this.$route.query.id, \"\", \"\", \"\", \"\");\r\n                        if (stuRes)\r\n                        {\r\n                            if (stuRes.code == \"2\")\r\n                            {\r\n                                alert('No record found');\r\n                            }\r\n                            else if (stuRes.code == \"99\")\r\n                            {\r\n                                alert('Please try again later');\r\n                            }\r\n                            else\r\n                            {\r\n                                this.BindStudentFields(stuRes.Table);\r\n                                this.BindStudentSibling();\r\n                            }\r\n                        }\r\n\r\n                        const relRes = await DataSource.shared.getRelationship(\"\", this.$route.query.id, \"\", \"\", \"\");\r\n                        if (relRes)\r\n                        {\r\n                            if (relRes.code == \"2\")\r\n                            {\r\n                                alert('No record found');\r\n                            }\r\n                            else if (relRes.code == \"99\")\r\n                            {\r\n                                alert('Please try again later');\r\n                            }\r\n                            else\r\n                            {\r\n                                this.relResLoop = relRes.Table;\r\n                                this.relResLoop.forEach(m => {\r\n                                    parentID = m.PAR_ID\r\n                                });\r\n\r\n                                const parRes = await DataSource.shared.getParent(parentID, \"\");\r\n                                if (parRes)\r\n                                {\r\n                                    this.BindParentFields(parRes.Table);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        this.editModeDisable = false;\r\n                        this.lblCreateOrEdit = \"New\";\r\n                        this.siblingTab = false;\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindStudentFields(resultTable) {\r\n                try {\r\n                    resultTable.forEach(m => {\r\n                        this.inputStudentID = m.Index_No;\r\n                        if (m.Index_No == '' || m.Index_No == null) { this.btnActive = true; } else { this.btnActive = false; }\r\n                        this.inputStudentFirstName = m.Full_Name;\r\n                        this.inputStudentMiddleName = m.Middle_name;\r\n                        this.inputStudentLastName = m.Last_name;\r\n                        this.ddlStudentGender = m.Sex;\r\n                        this.inputStudentCorrespondanceAddress1 = m.st_corr_add_flrNo;\r\n                        this.inputStudentCorrespondanceAddress2 = m.st_corr_add_blkNo;\r\n                        this.inputStudentCorrespondanceCity = m.st_corr_add_stName;\r\n                        this.inputStudentCorrespondancePostalCode = m.st_corr_add_pstcode;\r\n                        this.inputStudentPostalCode = m.st_prm_add_pstcode;\r\n                        this.inputStudentAddress1 = m.st_prm_add_blkNo;\r\n                        this.inputStudentAddress2 = m.st_prm_add_flrNo;\r\n                        this.inputStudentAddress3 = m.st_prm_add_BlgName;\r\n                        this.inputStudentDateOfBirth = m.DOB_convert;\r\n                        this.ddlStudentReligion =  m.St_Religion;\r\n                        this.ddlStudentNationality = m.Nationality;\r\n                        this.inputFirstCommencementDate = m.Regst_date_convert;\r\n                        this.ddlStudentAddressCountry = m.st_prm_add_country;\r\n                        this.inputStudentMobileNo = m.Handphone;\r\n                        this.inputStudentCorrespondanceAddress3 = m.st_corr_add_BlgName;\r\n                        this.ddlStudentResidencyStatus = m.student_type;\r\n                        this.ddlStudentPayer = m.sponsor_type;\r\n                        this.ddlStudentIdentificationType = m.ID_Type;\r\n                        this.inputStudentIdentificationNo = m.ID_Number;\r\n                        this.inputStudentCity = m.st_prm_add_stName;\r\n                        this.ddlStudentAddressCorrespondanceCountry = m.st_corr_add_country;\r\n                        this.inputStudent2ndEmergencyContactNo = m.Fax;\r\n                        this.inputStudentEmail = m.email;\r\n                        this.inputStudent1stEmergencyContactNo = m.Telephone;\r\n                        this.inputStudentOfficeTelNo = m.Offphone;\r\n                        this.ddlStudentSelectLevel = m.Course_Type;\r\n                        this.inputNameofFamilyDoctor = m.Family_Doctor;\r\n                        this.taMajorAilmentsList = m.Ailments;\r\n                        this.taMedicationAllergiesList = m.medication_allergic_to;\r\n                        this.inputBloodGroup = m.BLD_grp;\r\n                        this.inputBloodDonorNo = m.BLD_donor_no;\r\n                        this.inputClinicAddress = m.clinic_add;\r\n                        this.inputClinicPhoneNo = m.clinic_ph_no;\r\n                        this.ddlStudentFirstAcademicYear = m.Semester;\r\n                        this.inputStudentPreferredName = m.St_Preferred_Name;\r\n                        this.ddlStudentAdditionalLanguage = m.St_Mother_Tongue;\r\n                        this.ddlStudentMealPreferences = m.St_Meal_Preferences;\r\n                        this.ddlStudentBirthPlace = m.St_Birth_Place;\r\n                        this.inputStudentFirstLanguageSpoken = m.St_AdditionalLanguage;\r\n                        this.inputSecondLanguageSpoken = m.St_SecondLanguageSpoken;\r\n                        this.ddlStudentMembership = m.ST_StudentMemership;\r\n                        this.inputStudentIdentificationExpiryDate = m.ID_ExpDate_convert;\r\n                    });\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindParentFields(resultTable) {\r\n                try {\r\n                    resultTable.forEach(m => {\r\n                        this.lblParentID = m.PAR_ID;\r\n                        this.ddlParentMode = m.PAR_Mode;\r\n                        this.inputFatherFirstName = m.PAR_Father_FirstName;\r\n                        this.inputFatherMiddleName = m.PAR_Father_MiddleName;\r\n                        this.inputFatherLastName = m.PAR_Father_LastName;\r\n                        this.inputFatherDateofBirth = m.PAR_Father_DOB_convert;\r\n                        this.inputFatherOccupation = m.PAR_Father_Occupation;\r\n                        this.inputParentLandlineNo = m.PAR_FatResContact;\r\n                        this.inputFatherMobileNo = m.PAR_Father_Phone;\r\n                        this.inputFatherEmail = m.PAR_Father_Email;\r\n                        this.ddlFatherIdentificationType = m.PAR_Father_IDType;\r\n                        this.inputFatherIdentificationNo = m.PAR_Father_UID;\r\n                        this.inputParentAddress1 = m.PAR_Father_Loc_Residence_No;\r\n                        this.inputParentAddress2 = m.PAR_Father_Loc_Address1;\r\n                        this.inputParentAddress3 = m.PAR_Father_Loc_Address2;\r\n                        this.inputParentPostalCode = m.PAR_Father_Loc_Postalcode;\r\n                        this.inputParentCity = m.PAR_Father_Loc_City;\r\n                        this.ddlParentCountry = m.PAR_Father_Loc_Country;\r\n                        this.inputParentCity = m.PAR_Father_City;\r\n                        this.ddlParentCountry = m.PAR_Father_Country;\r\n                        this.inputParentPostalCode = m.PAR_Father_PostalCode;\r\n                        this.inputMotherFirstName = m.PAR_Mother_FirstName;\r\n                        this.inputMotherMiddleName = m.PAR_Mother_MiddleName;\r\n                        this.inputMotherLastName = m.PAR_Mother_LastName;\r\n                        this.inputMotherDateofBirth = m.PAR_Mother_DOB_convert;\r\n                        this.inputMotherOccupation = m.PAR_Mother_Occupation;\r\n                        this.inputParentLandlineNo = m.PAR_MotResContact;\r\n                        this.inputMotherMobileNo = m.PAR_Mother_Phone;\r\n                        this.inputMotherEmail = m.PAR_Mother_Email;\r\n                        this.ddlMotherIdentificationType = m.PAR_Mother_IDType;\r\n                        this.inputMotherIdentificationNo = m.PAR_Mother_UID;\r\n                        this.inputParentAddress1 = m.PAR_Mother_Loc_Residence_No;\r\n                        this.inputParentAddress2 = m.PAR_Mother_Loc_Address1;\r\n                        this.inputParentAddress3 = m.PAR_Mother_Loc_Address2;\r\n                        this.inputParentCity = m.PAR_Mother_Loc_City;\r\n                        this.ddlParentCountry = m.PAR_Mother_Loc_Country;\r\n                        this.inputParentPostalCode = m.PAR_Mother_Loc_Postalcode;\r\n                        this.inputParentCity = m.PAR_Mother_City;\r\n                        this.ddlParentCountry = m.PAR_Mother_Country;\r\n                        this.inputParentPostalCode = m.PAR_Mother_PostalCode;\r\n                        this.inputParentLandlineNo = m.PAR_GarResContact;\r\n                        this.inputParentAddress1 = m.PAR_Guardian_Loc_Residence_No;\r\n                        this.inputParentAddress1 = m.PAR_Guardian_Loc_City;\r\n                        this.inputParentAddress2 = m.PAR_Guardian_Loc_Country;\r\n                        this.inputParentAddress3 = m.PAR_Guardian_Loc_PostalCode;\r\n                        this.inputParentAddress1 = m.PAR_Guardian_Residence_No;\r\n                        this.inputParentAddress2 = m.PAR_Guardian_Address1;\r\n                        this.inputParentAddress3 = m.PAR_Guardian_Address2;\r\n                        this.inputParentCity = m.PAR_Guardian_City;\r\n                        this.ddlParentCountry = m.PAR_Guardian_Country;\r\n                        this.inputParentPostalCode = m.PAR_Guardian_Postalcode;\r\n                        this.inputFatherIdentificationNoExpiryDate = m.PAR_Father_IDExpDate_convert;\r\n                        this.inputMotherIdentificationNoExpiryDate = m.PAR_Mother_IDExpDate_convert;\r\n                        this.inputFamilyID = m.PAR_Family_Number;\r\n                    });\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindStudentSibling() {\r\n                try {\r\n                    const response = await DataSource.shared.getSibling('', this.$route.query.id);\r\n                    if (response) {\r\n                        if (response.Table.length > 0)\r\n                        {\r\n                            this.siblingList = response.Table;\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async Save() {\r\n                try {\r\n                    //students\r\n                    let jsonString = '\"Full_Name\":\"' + this.inputStudentFirstName + '\"';\r\n                    jsonString = jsonString + ',\"Middle_name\":\"' + this.inputStudentMiddleName + '\"';\r\n                    jsonString = jsonString + ',\"Last_name\":\"' + this.inputStudentLastName + '\"';\r\n                    jsonString = jsonString + ',\"Sex\":\"' + this.ddlStudentGender + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_flrNo\":\"' + this.inputStudentCorrespondanceAddress1 + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_blkNo\":\"' + this.inputStudentCorrespondanceAddress2 + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_stName\":\"' + this.inputStudentCorrespondanceCity + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_pstcode\":\"' + this.inputStudentCorrespondancePostalCode + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_pstcode\":\"' + this.inputStudentPostalCode + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_blkNo\":\"' + this.inputStudentAddress1 + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_flrNo\":\"' + this.inputStudentAddress2 + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_BlgName\":\"' + this.inputStudentAddress3 + '\"';\r\n                    jsonString = jsonString + ',\"DOB\":\"' + this.inputStudentDateOfBirth + '\"';\r\n                    jsonString = jsonString + ',\"St_Religion\":\"' + this.ddlStudentReligion + '\"';\r\n                    jsonString = jsonString + ',\"Nationality\":\"' + this.ddlStudentNationality + '\"';\r\n                    jsonString = jsonString + ',\"Regst_date\":\"' + this.inputFirstCommencementDate + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_country\":\"' + this.ddlStudentAddressCountry + '\"';\r\n                    jsonString = jsonString + ',\"Handphone\":\"' + this.inputStudentMobileNo + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_BlgName\":\"' + this.inputStudentCorrespondanceAddress3 + '\"';\r\n                    jsonString = jsonString + ',\"student_type\":\"' + this.ddlStudentResidencyStatus + '\"';\r\n                    jsonString = jsonString + ',\"sponsor_type\":\"' + this.ddlStudentPayer + '\"';\r\n                    jsonString = jsonString + ',\"ID_Type\":\"' + this.ddlStudentIdentificationType + '\"';\r\n                    jsonString = jsonString + ',\"ID_Number\":\"' + this.inputStudentIdentificationNo + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_stName\":\"' + this.inputStudentCity + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_country\":\"' + this.ddlStudentAddressCorrespondanceCountry + '\"';\r\n                    jsonString = jsonString + ',\"Fax\":\"' + this.inputStudent2ndEmergencyContactNo + '\"';\r\n                    jsonString = jsonString + ',\"email\":\"' + this.inputStudentEmail + '\"';\r\n                    jsonString = jsonString + ',\"Telephone\":\"' + this.inputStudent1stEmergencyContactNo + '\"';\r\n                    jsonString = jsonString + ',\"Offphone\":\"' + this.inputStudentOfficeTelNo + '\"';\r\n                    jsonString = jsonString + ',\"Course_Type\":\"' + this.ddlStudentSelectLevel + '\"';\r\n                    jsonString = jsonString + ',\"Family_Doctor\":\"' + this.inputNameofFamilyDoctor + '\"';\r\n                    jsonString = jsonString + ',\"Ailments\":\"' + this.taMajorAilmentsList + '\"';\r\n                    jsonString = jsonString + ',\"medication_allergic_to\":\"' + this.taMedicationAllergiesList + '\"';\r\n                    jsonString = jsonString + ',\"BLD_grp\":\"' + this.inputBloodGroup + '\"';\r\n                    jsonString = jsonString + ',\"BLD_donor_no\":\"' + this.inputBloodDonorNo + '\"';\r\n                    jsonString = jsonString + ',\"clinic_add\":\"' + this.inputClinicAddress + '\"';\r\n                    jsonString = jsonString + ',\"clinic_ph_no\":\"' + this.inputClinicPhoneNo + '\"';\r\n                    jsonString = jsonString + ',\"Semester\":\"' + this.ddlStudentFirstAcademicYear + '\"';\r\n                    jsonString = jsonString + ',\"St_Preferred_Name\":\"' + this.inputStudentPreferredName + '\"';\r\n                    jsonString = jsonString + ',\"St_Mother_Tongue\":\"' + this.ddlStudentAdditionalLanguage + '\"';\r\n                    jsonString = jsonString + ',\"St_Meal_Preferences\":\"' + this.ddlStudentMealPreferences + '\"';\r\n                    jsonString = jsonString + ',\"St_Birth_Place\":\"' + this.ddlStudentBirthPlace + '\"';\r\n                    jsonString = jsonString + ',\"St_AdditionalLanguage\":\"' + this.inputStudentFirstLanguageSpoken + '\"';\r\n                    jsonString = jsonString + ',\"St_SecondLanguageSpoken\":\"' + this.inputSecondLanguageSpoken + '\"';\r\n                    jsonString = jsonString + ',\"ST_StudentMemership\":\"' + this.ddlStudentMembership + '\"';\r\n                    jsonString = jsonString + ',\"ID_ExpDate\":\"' + this.inputStudentIdentificationExpiryDate + '\"';\r\n                    //students\r\n\r\n                    //parent\r\n                    let jsonString2 = '\"PAR_Mode\":\"' + this.ddlParentMode + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_FirstName\":\"' + this.inputFatherFirstName + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_MiddleName\":\"' + this.inputFatherMiddleName + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_LastName\":\"' + this.inputFatherLastName + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_DOB\":\"' + this.inputFatherDateofBirth + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Occupation\":\"' + this.inputFatherOccupation + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_FatResContact\":\"' + this.inputParentLandlineNo  + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Phone\":\"' + this.inputFatherMobileNo + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Email\":\"' + this.inputFatherEmail + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_IDType\":\"' + this.ddlFatherIdentificationType + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_UID\":\"' + this.inputFatherIdentificationNo + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Residence_No\":\"' + this.inputParentAddress1 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Address1\":\"' + this.inputParentAddress2 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Address2\":\"' + this.inputParentAddress3 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Postalcode\":\"' + this.inputParentPostalCode + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Loc_City\":\"' + this.inputParentCity + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Country\":\"' + this.ddlParentCountry + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_City\":\"' + this.inputParentCity + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Country\":\"' + this.ddlParentCountry + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_PostalCode\":\"' + this.inputParentPostalCode + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_FirstName\":\"' + this.inputMotherFirstName + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_MiddleName\":\"' + this.inputMotherMiddleName + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_LastName\":\"' + this.inputMotherLastName + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_DOB\":\"' + this.inputMotherDateofBirth + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Occupation\":\"' + this.inputMotherOccupation + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_MotResContact\":\"' + this.inputParentLandlineNo + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Phone\":\"' + this.inputMotherMobileNo + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Email\":\"' + this.inputMotherEmail + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_IDType\":\"' + this.ddlMotherIdentificationType + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_UID\":\"' + this.inputMotherIdentificationNo + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Residence_No\":\"' + this.inputParentAddress1 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Address1\":\"' + this.inputParentAddress2 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Address2\":\"' + this.inputParentAddress3 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_City\":\"' + this.inputParentCity + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Country\":\"' + this.ddlParentCountry + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Postalcode\":\"' + this.inputParentPostalCode + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_City\":\"' + this.inputParentCity + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Country\":\"' + this.ddlParentCountry + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_PostalCode\":\"' + this.inputParentPostalCode + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_GarResContact\":\"' + this.inputParentLandlineNo + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_Residence_No\":\"' + this.inputParentAddress1 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_City\":\"' + this.inputParentAddress1 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_Country\":\"' + this.inputParentAddress2 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_PostalCode\":\"' + this.inputParentAddress3 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Residence_No\":\"' + this.inputParentAddress1 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Address1\":\"' + this.inputParentAddress2 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Address2\":\"' + this.inputParentAddress3 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_City\":\"' + this.inputParentCity + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Country\":\"' + this.ddlParentCountry + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Postalcode\":\"' + this.inputParentPostalCode + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_IDExpDate\":\"' + this.inputFatherIdentificationNoExpiryDate + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_IDExpDate\":\"' + this.inputMotherIdentificationNoExpiryDate + '\"';\r\n                    //parent\r\n\r\n                    jsonString = '{ ' + jsonString + ' }'\r\n                    jsonString2 = '{ ' + jsonString2 + ' }'\r\n\r\n                    if (this.lblCreateOrEdit == \"New\")\r\n                    {\r\n                        const chkStuRes = await DataSource.shared.checkStudentDuplication(this.inputStudentFirstName, this.inputStudentLastName, this.inputStudentDateOfBirth, this.ddlStudentIdentificationType, this.inputStudentIdentificationNo);\r\n                        if (chkStuRes) {\r\n                            if (chkStuRes.code == \"1\")\r\n                            {\r\n                                const saveStuRes = await DataSource.shared.saveStudent(jsonString);\r\n                                if (chkStuRes) {\r\n                                    if (saveStuRes.code == \"1\")\r\n                                    {\r\n                                        let studentID = saveStuRes.studentID;\r\n\r\n                                        //parent\r\n                                        if (this.inputFamilyID == \"\")\r\n                                        {\r\n                                            const saveParRes = await DataSource.shared.saveParent(jsonString2, studentID);\r\n\r\n                                            if (saveParRes)\r\n                                            {\r\n                                                if (saveParRes.code != \"1\")\r\n                                                {\r\n                                                    alert('Save Parent Error - Please try again later');\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        else\r\n                                        {\r\n                                            const saveParRes = await DataSource.shared.saveParentWithFamilyID(this.inputFamilyParentID, studentID);\r\n\r\n                                            if (saveParRes)\r\n                                            {\r\n                                                if (saveParRes.code != \"1\")\r\n                                                {\r\n                                                    alert('Save Parent With Family ID Error - Please try again later');\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        //parent\r\n\r\n                                        //set level\r\n                                        const getAcaYearRes = await DataSource.shared.getAcademicYearDateRange(this.ddlStudentFirstAcademicYear);\r\n\r\n                                        if (getAcaYearRes)\r\n                                        {\r\n                                            if (getAcaYearRes.code == \"99\")\r\n                                            {\r\n                                                alert('Get Academic Year Error - Please try again later');\r\n                                            }\r\n                                            else\r\n                                            {\r\n                                                let academicYearFromDate, academicYearToDate;\r\n\r\n                                                this.getAcaYearResTemp = getAcaYearRes.Table;\r\n                                                this.getAcaYearResTemp.forEach(m => {\r\n                                                    academicYearFromDate = m.SMT_From;\r\n                                                    academicYearToDate = m.SMT_To;\r\n                                                });\r\n\r\n                                                const getSetLvlRes = await DataSource.shared.setLevel(studentID, this.ddlStudentSelectLevel, academicYearFromDate, academicYearToDate, this.ddlStudentFirstAcademicYear, this.ddlStudentIntakeYear);\r\n\r\n                                                if (getSetLvlRes)\r\n                                                {\r\n                                                    if (getSetLvlRes.code == \"1\")\r\n                                                    {\r\n                                                        //this.$router.push('Student?id=' + studentID);\r\n                                                        alert('Records Successfully Saved');\r\n                                                        window.location.replace('/student?id=' + studentID);\r\n                                                    }\r\n                                                    else\r\n                                                    {\r\n                                                        alert('Save Student Level Error - Please try again later');\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        //set level\r\n                                    }\r\n                                    else\r\n                                    {\r\n                                        alert(\"Save Student Error - Please try again later\");\r\n                                    }\r\n                                }\r\n                            }\r\n                            else if (chkStuRes.code == \"2\")\r\n                            {\r\n                                alert(\"This student is existing\");\r\n                            }\r\n                            else\r\n                            {\r\n                                alert(\"Check Student Error - Please try again later\");\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (this.lblCreateOrEdit == \"Edit\")\r\n                    {\r\n                        try {\r\n                            const response = await DataSource.shared.updateStudent(this.lblStudentID, jsonString);\r\n                            if (response) {\r\n                                if (response.code == 1)\r\n                                {\r\n                                    alert('Records Successfully Edited');\r\n                                    window.location.replace('/student?id=' + this.lblStudentID);\r\n                                }\r\n                                else\r\n                                    {\r\n                                    alert('Update Student Error - Please try again later');\r\n                                }\r\n                            }\r\n                        } catch (e) {\r\n                            this.results = e;\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        //this.$message(\"Error! Please try again later\")\r\n                        alert(\"Error! Please try again later\");\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async SearchFamilyID() {\r\n                try {\r\n                    const response = await DataSource.shared.getRelationship(this.$refs.familyIDFamilyNo.value, '', this.$refs.familyParentFirstName.value, this.$refs.familyParentLastName.value, this.$refs.familyIDStudentName.value);\r\n                    if (response) {\r\n                        this.familyIDList = response.Table;\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async CheckParentDup(){\r\n                try {\r\n                    if (this.inputMotherFirstName !== '' && this.inputMotherLastName !== '')\r\n                    {\r\n                        const response = await DataSource.shared.checkParentDuplication(this.inputMotherFirstName, this.inputMotherLastName, 'Mother');\r\n                        if (response) {\r\n                            if (response.code == 1)\r\n                            {\r\n                                this.lblMotherNameDuplicated = false;\r\n                            }\r\n                            else if (response.code == 2)\r\n                            {\r\n                                this.lblMotherNameDuplicated = true;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (this.inputFatherFirstName !== '' && this.inputFatherLastName !== '')\r\n                    {\r\n                        const response = await DataSource.shared.checkParentDuplication(this.inputFatherFirstName, this.inputFatherLastName, 'Father');\r\n                        if (response) {\r\n                            if (response.code == 1)\r\n                            {\r\n                                this.lblFatherNameDuplicated = false;\r\n                            }\r\n                            else if (response.code == 2)\r\n                            {\r\n                                this.lblFatherNameDuplicated = true;\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async Active(){\r\n                try {\r\n                    const response = await DataSource.shared.activeStudent(this.lblStudentID);\r\n                    if (response) {\r\n                        if (response.code == 1)\r\n                        {\r\n                            alert('Successfully activated');\r\n                            window.location.replace('/student?id=' + this.lblStudentID);\r\n                        }\r\n                        else\r\n                        {\r\n                            alert('Please try again later');\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async Validation(){\r\n                try {\r\n                    this.$v.$touch();\r\n\r\n                    if(this.$v.$error)\r\n                    {\r\n                        alert('Please fill in all * fields');\r\n                        return;\r\n                    }\r\n\r\n                    this.Save();\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .studentAreaDiv, .familyIDAreaDiv, .parentAreaDiv\r\n    {\r\n        margin-bottom:50px;\r\n    }\r\n    .btnFamilyIDSearch\r\n    {\r\n        margin-top:10px;\r\n    }\r\n    .el-date-editor, .el-input\r\n    {\r\n        width:100% !important;\r\n    }\r\n    .requiredFields\r\n    {\r\n        border-color: #f79483;\r\n    }\r\n    .requiredFieldsMsg\r\n    {\r\n        color: red;\r\n        font-weight: bold;\r\n    }\r\n</style>\r\n\r\n<style>\r\n    .studentPageBModal .modal-dialog, .studentPageBModal .modal-lg\r\n    {\r\n        min-width:90% !important;\r\n    }\r\n    .studentPageBTabs .tab-content\r\n    {\r\n        margin-top:30px;\r\n    }\r\n    .studentPageBTabs .nav-link\r\n    {\r\n        font-weight:bold;\r\n    }\r\n    .studentPageBTabs .nav-tabs .nav-link.active\r\n    {\r\n        background-color:#413f56;\r\n        color:white;\r\n        border:5px solid #dee2e6;\r\n    }\r\n    .studentPageBTabs .nav-tabs\r\n    {\r\n        border-bottom:5px solid #dee2e6;\r\n    }\r\n</style>"]}]}