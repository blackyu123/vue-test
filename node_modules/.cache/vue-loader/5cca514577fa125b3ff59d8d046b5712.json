{"remainingRequest":"C:\\Users\\jessica\\Documents\\git\\vue-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jessica\\Documents\\git\\vue-test\\src\\pages\\Student.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jessica\\Documents\\git\\vue-test\\src\\pages\\Student.vue","mtime":1546335184368},{"path":"C:\\Users\\jessica\\Documents\\git\\vue-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545311097356},{"path":"C:\\Users\\jessica\\Documents\\git\\vue-test\\node_modules\\babel-loader\\lib\\index.js","mtime":1545311081350},{"path":"C:\\Users\\jessica\\Documents\\git\\vue-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545311097356},{"path":"C:\\Users\\jessica\\Documents\\git\\vue-test\\node_modules\\vue-loader\\lib\\index.js","mtime":1545311099620}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport DataSource from \"../data/datasource\";\n\nexport default {\n    name: \"Student\",\n    async created() {\n        await this.BindCountryList();\n        await this.BindStudentDropdown();\n        await this.BindStudentLevel();\n        await this.BindAcademicYear();\n        await this.BindStudentIntakeYear();\n    },\n    async mounted() {\n        await this.LoadStudentParentInfo();\n    },\n    data() {\n        return {\n            countryList: [],\n            ddlStudentIdentificationTypeList: [],\n            ddlStudentReligionList: [],\n            ddlStudentAdditionalLanguageList: [],\n            ddlStudentMealPreferencesList: [],\n            ddlStudentMembershipList: [],\n            ddlStudentResidencyStatusList: [],\n            ddlStudentPayerList: [],\n            ddlFatherIdentificationTypeList: [],\n            ddlMotherIdentificationTypeList: [],\n            ddlParentModeList: [],\n            levelList: [],\n            academicYearList: [],\n            studentIntakeYearList: [],\n\n            inputStudentDateOfBirth: '',\n            inputFatherDateofBirth: '',\n            inputStudentIdentificationExpiryDate: '',\n            inputFirstCommencementDate: '',\n            inputFatherIdentificationNoExpiryDate: '',\n            inputMotherDateofBirth: '',\n            inputMotherIdentificationNoExpiryDate: '',\n            ddlStudentGender: '',\n            inputStudentFirstName: '',\n            inputStudentMiddleName: '',\n            inputStudentLastName: '',\n            inputStudentPreferredName: '',\n            ddlStudentNationality: '',\n            ddlStudentBirthPlace: '',\n            inputStudentIdentificationNo: '',\n            inputStudent1stEmergencyContactNo: '',\n            inputStudent2ndEmergencyContactNo: '',\n            inputStudentFirstLanguageSpoken: '',\n            inputSecondLanguageSpoken: '',\n            ddlStudentSelectLevel: '',\n            ddlStudentFirstAcademicYear: '',\n            inputStudentID: '',\n            ddlStudentIntakeYear: '',\n            inputStudentAddress1: '',\n            inputStudentAddress2: '',\n            inputStudentAddress3: '',\n            inputStudentCity: '',\n            inputStudentPostalCode: '',\n            inputStudentCorrespondanceAddress1: '',\n            inputStudentCorrespondanceAddress2: '',\n            inputStudentCorrespondanceAddress3: '',\n            inputStudentCorrespondanceCity: '',\n            ddlStudentAddressCorrespondanceCountry: '',\n            inputStudentCorrespondancePostalCode: '',\n            inputStudentMobileNo: '',\n            inputStudentOfficeTelNo: '',\n            inputStudentEmail: '',\n            taMajorAilmentsList: '',\n            taMedicationAllergiesList: '',\n            inputBloodGroup: '',\n            inputBloodDonorNo: '',\n            inputNameofFamilyDoctor: '',\n            inputClinicAddress: '',\n            inputClinicPhoneNo: '',\n            inputFamilyID: '',\n            inputFamilyParentID: '',\n            inputFatherFirstName: '',\n            inputFatherMiddleName: '',\n            inputFatherLastName: '',\n            inputFatherOccupation: '',\n            inputFatherIdentificationNo: '',\n            inputFatherMobileNo: '',\n            inputFatherEmail: '',\n            inputMotherFirstName: '',\n            inputMotherMiddleName: '',\n            inputMotherLastName: '',\n            inputMotherOccupation: '',\n            inputMotherIdentificationNo: '',\n            inputMotherMobileNo: '',\n            inputMotherEmail: '',\n            inputParentAddress1: '',\n            inputParentAddress2: '',\n            inputParentAddress3: '',\n            inputParentCity: '',\n            inputParentLandlineNo: '',\n            ddlParentCountry: '',\n            inputParentPostalCode: '',\n            ddlStudentAddressCountry: '',\n            ddlStudentIdentificationType: '',\n            ddlStudentReligion: '',\n            ddlStudentAdditionalLanguage: '',\n            ddlStudentMealPreferences: '',\n            ddlStudentMembership: '',\n            ddlStudentResidencyStatus: '',\n            ddlStudentPayer: '',\n            ddlFatherIdentificationType: '',\n            ddlMotherIdentificationType: '',\n            ddlParentMode: '',\n\n            editModeDisable:'',\n            lblCreateOrEdit:'',\n            lblStudentID:'',\n            lblParentID: '',\n        };\n    },\n    methods: {\n        async BindCountryList() {\n            try {\n                const response = await DataSource.shared.getCountryList();\n                if (response) {\n                    this.countryListResponse = response.Table;\n                    this.countryListResponse.forEach(m => {\n                        this.countryList.push(m);\n                    });\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindStudentDropdown() {\n            try {\n                let jsonString = '\"Student Identification Type\":\"Student Identification Type\"';\n                jsonString = jsonString + ',\"Religion\":\"Religion\"';\n                jsonString = jsonString + ',\"Mother Tongue\":\"Mother Tongue\"';\n                jsonString = jsonString + ',\"Meal Preferences\":\"Meal Preferences\"';\n                jsonString = jsonString + ',\"Student Membership\":\"Student Membership\"';\n                jsonString = jsonString + ',\"Residency Status\":\"Residency Status\"';\n                jsonString = jsonString + ',\"Sponsorship Type\":\"Sponsorship Type\"';\n                jsonString = jsonString + ',\"ParentID\":\"ParentID\"';\n                jsonString = jsonString + ',\"Parent Mode\":\"Parent Mode\"';\n                jsonString = \"{\" + jsonString + \"}\";\n\n                const response = await DataSource.shared.getStudentDropDownList(jsonString);\n                if (response) {\n                    this.studentDropDownListResponse = response.Table;\n                    this.studentDropDownListResponse.forEach(m => {\n\n                        if (m.OGPname.trim() === \"Student Identification Type\") {\n                            this.ddlStudentIdentificationTypeList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Religion') {\n                            this.ddlStudentReligionList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Mother Tongue') {\n                            this.ddlStudentAdditionalLanguageList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Meal Preferences') {\n                            this.ddlStudentMealPreferencesList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Student Membership') {\n                            this.ddlStudentMembershipList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Residency Status') {\n                            this.ddlStudentResidencyStatusList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Sponsorship Type') {\n                            this.ddlStudentPayerList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'ParentID') {\n                            this.ddlFatherIdentificationTypeList.push(m);\n                            this.ddlMotherIdentificationTypeList.push(m);\n                        }\n                        else if (m.OGPname.trim() === 'Parent Mode') {\n                            this.ddlParentModeList.push(m);\n                        }\n                    });\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindStudentLevel() {\n            try {\n                const response = await DataSource.shared.getLevel();\n                if (response) {\n                    this.levelListResponse = response.Table;\n                    this.levelListResponse.forEach(m => {\n                        this.levelList.push(m);\n                    });\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindAcademicYear() {\n            try {\n                const response = await DataSource.shared.getAcademicYear();\n                if (response) {\n                    this.academicYearListResponse = response.Table;\n                    this.academicYearListResponse.forEach(m => {\n                        this.academicYearList.push(m);\n                    });\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindStudentIntakeYear() {\n            try {\n                const response = await DataSource.shared.getIntakeYear();\n                if (response) {\n                    this.studentIntakeYearListResponse = response.Table;\n                    this.studentIntakeYearListResponse.forEach(m => {\n                        this.studentIntakeYearList.push(m);\n                    });\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async LoadStudentParentInfo() {\n            try {\n                if (this.$route.query.id != null)\n                {\n                    this.lblCreateOrEdit = \"Edit\";\n                    this.lblStudentID = this.$route.query.id;\n                    this.editModeDisable = true;\n\n                    const response = await DataSource.shared.getStudent(this.$route.query.id, \"\", \"\", \"\", \"\");\n\n                    if (response)\n                    {\n\n                    }\n                }\n                else\n                {\n                    this.lblCreateOrEdit = \"New\";\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async Save() {\n            try {\n                //students\n                let jsonString = '\"Full_Name\":\"' + this.inputStudentFirstName + '\"';\n                jsonString = jsonString + ',\"Middle_name\":\"' + this.inputStudentMiddleName + '\"';\n                jsonString = jsonString + ',\"Last_name\":\"' + this.inputStudentLastName + '\"';\n                jsonString = jsonString + ',\"Sex\":\"' + this.ddlStudentGender + '\"';\n                jsonString = jsonString + ',\"st_corr_add_flrNo\":\"' + this.inputStudentCorrespondanceAddress1 + '\"';\n                jsonString = jsonString + ',\"st_corr_add_blkNo\":\"' + this.inputStudentCorrespondanceAddress2 + '\"';\n                jsonString = jsonString + ',\"st_corr_add_stName\":\"' + this.inputStudentCorrespondanceCity + '\"';\n                jsonString = jsonString + ',\"st_corr_add_pstcode\":\"' + this.inputStudentCorrespondancePostalCode + '\"';\n                jsonString = jsonString + ',\"st_prm_add_pstcode\":\"' + this.inputStudentPostalCode + '\"';\n                jsonString = jsonString + ',\"st_prm_add_blkNo\":\"' + this.inputStudentAddress1 + '\"';\n                jsonString = jsonString + ',\"st_prm_add_flrNo\":\"' + this.inputStudentAddress2 + '\"';\n                jsonString = jsonString + ',\"st_prm_add_BlgName\":\"' + this.inputStudentAddress3 + '\"';\n                jsonString = jsonString + ',\"DOB\":\"' + this.inputStudentDateOfBirth + '\"';\n                jsonString = jsonString + ',\"St_Religion\":\"' + this.ddlStudentReligion.id + '\"';\n                jsonString = jsonString + ',\"Nationality\":\"' + this.ddlStudentNationality.id + '\"';\n                jsonString = jsonString + ',\"Regst_date\":\"' + this.inputFirstCommencementDate + '\"';\n                jsonString = jsonString + ',\"st_prm_add_country\":\"' + this.ddlStudentAddressCountry.id + '\"';\n                jsonString = jsonString + ',\"Handphone\":\"' + this.inputStudentMobileNo + '\"';\n                jsonString = jsonString + ',\"st_corr_add_BlgName\":\"' + this.inputStudentCorrespondanceAddress3 + '\"';\n                jsonString = jsonString + ',\"student_type\":\"' + this.ddlStudentResidencyStatus.id + '\"';\n                jsonString = jsonString + ',\"sponsor_type\":\"' + this.ddlStudentPayer.id + '\"';\n                jsonString = jsonString + ',\"ID_Type\":\"' + this.ddlStudentIdentificationType.id + '\"';\n                jsonString = jsonString + ',\"ID_Number\":\"' + this.inputStudentIdentificationNo + '\"';\n                jsonString = jsonString + ',\"st_prm_add_stName\":\"' + this.inputStudentCity + '\"';\n                jsonString = jsonString + ',\"st_corr_add_country\":\"' + this.ddlStudentAddressCorrespondanceCountry.id + '\"';\n                jsonString = jsonString + ',\"Fax\":\"' + this.inputStudent2ndEmergencyContactNo + '\"';\n                jsonString = jsonString + ',\"email\":\"' + this.inputStudentEmail + '\"';\n                jsonString = jsonString + ',\"Telephone\":\"' + this.inputStudent1stEmergencyContactNo + '\"';\n                jsonString = jsonString + ',\"Offphone\":\"' + this.inputStudentOfficeTelNo + '\"';\n                jsonString = jsonString + ',\"Course_Type\":\"' + this.ddlStudentSelectLevel + '\"';\n                jsonString = jsonString + ',\"Family_Doctor\":\"' + this.inputNameofFamilyDoctor + '\"';\n                jsonString = jsonString + ',\"Ailments\":\"' + this.taMajorAilmentsList + '\"';\n                jsonString = jsonString + ',\"medication_allergic_to\":\"' + this.taMedicationAllergiesList + '\"';\n                jsonString = jsonString + ',\"BLD_grp\":\"' + this.inputBloodGroup + '\"';\n                jsonString = jsonString + ',\"BLD_donor_no\":\"' + this.inputBloodDonorNo + '\"';\n                jsonString = jsonString + ',\"clinic_add\":\"' + this.inputClinicAddress + '\"';\n                jsonString = jsonString + ',\"clinic_ph_no\":\"' + this.inputClinicPhoneNo + '\"';\n                jsonString = jsonString + ',\"Semester\":\"' + this.ddlStudentFirstAcademicYear.id + '\"';\n                jsonString = jsonString + ',\"St_Preferred_Name\":\"' + this.inputStudentPreferredName + '\"';\n                jsonString = jsonString + ',\"St_Mother_Tongue\":\"' + this.ddlStudentAdditionalLanguage.id + '\"';\n                jsonString = jsonString + ',\"St_Meal_Preferences\":\"' + this.ddlStudentMealPreferences.id + '\"';\n                jsonString = jsonString + ',\"St_Birth_Place\":\"' + this.ddlStudentBirthPlace.id + '\"';\n                jsonString = jsonString + ',\"St_AdditionalLanguage\":\"' + this.inputStudentFirstLanguageSpoken + '\"';\n                jsonString = jsonString + ',\"St_SecondLanguageSpoken\":\"' + this.inputSecondLanguageSpoken + '\"';\n                jsonString = jsonString + ',\"ST_StudentMemership\":\"' + this.ddlStudentMembership.id + '\"';\n                jsonString = jsonString + ',\"ID_ExpDate\":\"' + this.inputStudentIdentificationExpiryDate + '\"';\n                //students\n\n                //parent\n                let jsonString2 = '\"PAR_Mode\":\"' + this.ddlParentMode.id + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_FirstName\":\"' + this.inputFatherFirstName + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_MiddleName\":\"' + this.inputFatherMiddleName + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_LastName\":\"' + this.inputFatherLastName + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_DOB\":\"' + this.inputFatherDateofBirth + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Occupation\":\"' + this.inputFatherOccupation + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_FatResContact\":\"' + this.inputParentLandlineNo  + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Phone\":\"' + this.inputFatherMobileNo + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Email\":\"' + this.inputFatherEmail + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_IDType\":\"' + this.ddlFatherIdentificationType.id + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_UID\":\"' + this.inputFatherIdentificationNo + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Residence_No\":\"' + this.inputParentAddress1 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Address1\":\"' + this.inputParentAddress2 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Address2\":\"' + this.inputParentAddress3 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Postalcode\":\"' + this.inputParentPostalCode + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Loc_City\":\"' + this.inputParentCity + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Country\":\"' + this.ddlParentCountry + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_City\":\"' + this.inputParentCity + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_Country\":\"' + this.ddlParentCountry.id + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_PostalCode\":\"' + this.inputParentPostalCode + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_FirstName\":\"' + this.inputMotherFirstName + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_MiddleName\":\"' + this.inputMotherMiddleName + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_LastName\":\"' + this.inputMotherLastName + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_DOB\":\"' + this.inputMotherDateofBirth + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Occupation\":\"' + this.inputMotherOccupation + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_MotResContact\":\"' + this.inputParentLandlineNo + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Phone\":\"' + this.inputMotherMobileNo + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Email\":\"' + this.inputMotherEmail + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_IDType\":\"' + this.ddlMotherIdentificationType.id + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_UID\":\"' + this.inputMotherIdentificationNo + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Residence_No\":\"' + this.inputParentAddress1 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Address1\":\"' + this.inputParentAddress2 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Address2\":\"' + this.inputParentAddress3 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_City\":\"' + this.inputParentCity + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Country\":\"' + this.ddlParentCountry.id + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Postalcode\":\"' + this.inputParentPostalCode + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_City\":\"' + this.inputParentCity + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_Country\":\"' + this.ddlParentCountry + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_PostalCode\":\"' + this.inputParentPostalCode + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_GarResContact\":\"' + this.inputParentLandlineNo + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_Residence_No\":\"' + this.inputParentAddress1 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_City\":\"' + this.inputParentAddress1 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_Country\":\"' + this.inputParentAddress2 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_PostalCode\":\"' + this.inputParentAddress3 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Residence_No\":\"' + this.inputParentAddress1 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Address1\":\"' + this.inputParentAddress2 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Address2\":\"' + this.inputParentAddress3 + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_City\":\"' + this.inputParentCity + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Country\":\"' + this.ddlParentCountry.id + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Guardian_Postalcode\":\"' + this.inputParentPostalCode + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Father_IDExpDate\":\"' + this.inputFatherIdentificationNoExpiryDate + '\"';\n                jsonString2 = jsonString2 + ',\"PAR_Mother_IDExpDate\":\"' + this.inputMotherIdentificationNoExpiryDate + '\"';\n                //parent\n\n                jsonString = '{ ' + jsonString + ' }'\n                jsonString2 = '{ ' + jsonString2 + ' }'\n\n                if (this.lblCreateOrEdit == \"New\")\n                {\n                    const chkStuRes = await DataSource.shared.checkStudentDuplication(this.inputStudentFirstName, this.inputStudentLastName, this.inputStudentDateOfBirth, this.inputStudentIdentificationNo, this.ddlStudentIdentificationType.id);\n                    if (chkStuRes) {\n                        if (chkStuRes.code == \"1\")\n                        {\n                            const saveStuRes = await DataSource.shared.saveStudent(jsonString);\n                            if (chkStuRes) {\n                                if (saveStuRes.code == \"1\")\n                                {\n                                    let studentID = saveStuRes.studentID;\n\n                                    //parent\n                                    if (this.inputFamilyID == \"\")\n                                    {\n                                        const saveParRes = await DataSource.shared.saveParent(jsonString2, studentID);\n\n                                        if (saveParRes)\n                                        {\n                                            if (saveParRes.code != \"1\")\n                                            {\n                                                alert('Save Parent Error - Please try again later');\n                                            }\n                                        }\n                                    }\n                                    else\n                                    {\n                                        const saveParRes = await DataSource.shared.saveParentWithFamilyID(this.inputFamilyParentID, studentID);\n\n                                        if (saveParRes)\n                                        {\n                                            if (saveParRes.code != \"1\")\n                                            {\n                                                alert('Save Parent With Family ID Error - Please try again later');\n                                            }\n                                        }\n                                    }\n                                    //parent\n\n                                    //set level\n                                    const getAcaYearRes = await DataSource.shared.getAcademicYearDateRange(this.ddlStudentFirstAcademicYear.id);\n\n                                    if (getAcaYearRes)\n                                    {\n                                        if (getAcaYearRes.code == \"99\")\n                                        {\n                                            alert('Get Academic Year Error - Please try again later');\n                                        }\n                                        else\n                                        {\n                                            let academicYearFromDate, academicYearToDate;\n\n                                            this.getAcaYearResTemp = getAcaYearRes.Table;\n                                            this.getAcaYearResTemp.forEach(m => {\n                                                academicYearFromDate = m.SMT_From;\n                                                academicYearToDate = m.SMT_To;\n                                            });\n\n                                            const getSetLvlRes = await DataSource.shared.setLevel(studentID, this.ddlStudentSelectLevel.id, academicYearFromDate, academicYearToDate, this.ddlStudentFirstAcademicYear.id, this.ddlStudentIntakeYear.id);\n\n                                            if (getSetLvlRes)\n                                            {\n                                                if (getSetLvlRes.code == \"1\")\n                                                {\n                                                    this.$router.push('Student?id=' + studentID);\n                                                }\n                                                else\n                                                {\n                                                    alert('Save Student Level Error - Please try again later');\n                                                }\n                                            }\n                                        }\n                                    }\n                                    //set level\n                                }\n                                else\n                                {\n                                    alert(\"Save Student Error - Please try again later\");\n                                }\n                            }\n                        }\n                        else if (chkStuRes.code == \"2\")\n                        {\n                            alert(\"This student is existing\");\n                        }\n                        else\n                        {\n                            alert(\"Check Student Error - Please try again later\");\n                        }\n                    }\n                }\n                else if (this.lblCreateOrEdit == \"Edit\")\n                {\n                    //alert(JSON.stringify($(\"#student\")));\n                  //  this.$message(JSON.stringify($(\"#student\")))\n                }\n                else\n                {\n                    this.$message(\"Error! Please try again later\")\n                }\n\n                //this.$message(this.ddlStudentNationality.id)\n                //this.$message(this.ddlStudentGender)\n                //console.log(jsonString)\n                //console.log(jsonString2)\n                //console.log(this.lblCreateOrEdit)\n            } catch (e) {\n                this.results = e;\n            }\n        },\n    },\n}\n",{"version":3,"sources":["Student.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6gBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Student.vue","sourceRoot":"src\\pages","sourcesContent":["<template>\r\n    <div id=\"student\" class=\"mt-3 container\">\r\n        <div class=\"row form-group col-lg-12 col-md-12 col-sm-12 col-xs-12\" >\r\n            <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                <label>Mode: </label><label>{{lblCreateOrEdit}}</label>\r\n                <label style=\"display:none;\">{{lblStudentID}}</label>\r\n                <label style=\"display:none;\">{{lblParentID}}</label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row form-group col-lg-12 col-md-12 col-sm-12 col-xs-12\" >\r\n            <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 studentAreaDiv\">\r\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                    <h2>Personal Information</h2>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>First Name</label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentFirstName\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Middle Name</label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentMiddleName\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Last Name</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentLastName\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Preferred Name</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentPreferredName\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Nationality</label>\r\n                    <select v-model=\"ddlStudentNationality\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in countryList\" v-bind:value=\"{ id: item.CNYnationality.trim(), text: item.CNYname.trim() }\">{{ item.CNYname.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Gender</label>\r\n                    <select v-model=\"ddlStudentGender\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option value=\"Male\">Male</option>\r\n                        <option value=\"Female\">Female</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Date of Birth</label>\r\n                    <div class=\"date\">\r\n                        <el-date-picker v-model=\"inputStudentDateOfBirth\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a date\"></el-date-picker>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Birth Place</label>\r\n                    <select v-model=\"ddlStudentBirthPlace\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in countryList\" v-bind:value=\"{ id: item.CNYnationality.trim(), text: item.CNYname.trim() }\">{{ item.CNYname.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Identification Type</label>\r\n                    <select v-model=\"ddlStudentIdentificationType\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in ddlStudentIdentificationTypeList\" v-bind:value=\"{ id: item.OPTvalue.trim(), text: item.OPTvalue.trim() }\">{{ item.OPTvalue.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Identification No</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentIdentificationNo\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Identification Expiry Date</label>\r\n                    <div class=\"date\">\r\n                        <el-date-picker v-model=\"inputStudentIdentificationExpiryDate\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a day\"></el-date-picker>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Religion</label>\r\n                    <select v-model=\"ddlStudentReligion\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in ddlStudentReligionList\" v-bind:value=\"{ id: item.OPTvalue.trim(), text: item.OPTvalue.trim() }\">{{ item.OPTvalue.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Additional Language</label>\r\n                    <select v-model=\"ddlStudentAdditionalLanguage\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in ddlStudentAdditionalLanguageList\" v-bind:value=\"{ id: item.OPTvalue.trim(), text: item.OPTvalue.trim() }\">{{ item.OPTvalue.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>1st Emergency Contact No</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudent1stEmergencyContactNo\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>2nd Emergency Contact No</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudent2ndEmergencyContactNo\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Meal Preferences</label>\r\n                    <select v-model=\"ddlStudentMealPreferences\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in ddlStudentMealPreferencesList\" v-bind:value=\"{ id: item.OPTvalue.trim(), text: item.OPTvalue.trim() }\">{{ item.OPTvalue.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>First Language Spoken</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentFirstLanguageSpoken\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Second Language Spoken</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputSecondLanguageSpoken\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Membership</label>\r\n                    <select v-model=\"ddlStudentMembership\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in ddlStudentMembershipList\" v-bind:value=\"{ id: item.OPTvalue.trim(), text: item.OPTvalue.trim() }\">{{ item.OPTvalue.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 studentAreaDiv\">\r\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                    <h2>Registration Details</h2>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Select Level</label>\r\n                    <select v-model=\"ddlStudentSelectLevel\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in levelList\" v-bind:value=\"{ id: item.PK_Course_ID.trim(), text: item.CRS_Course_Name.trim() }\">{{ item.CRS_Course_Name.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>First Commencement Date</label>\r\n                    <div class=\"date\">\r\n                        <el-date-picker v-model=\"inputFirstCommencementDate\" type=\"date\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" placeholder=\"Pick a day\"></el-date-picker>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>First Academic Year</label>\r\n                    <select v-model=\"ddlStudentFirstAcademicYear\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in academicYearList\" v-bind:value=\"{ id: item.PK_Semester_ID.trim(), text: item.SMT_Code.trim() }\">{{ item.SMT_Code.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Residency Status</label>\r\n                    <select v-model=\"ddlStudentResidencyStatus\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in ddlStudentResidencyStatusList\" v-bind:value=\"{ id: item.OPTvalue.trim(), text: item.OPTvalue.trim() }\">{{ item.OPTvalue.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Payer</label>\r\n                    <select v-model=\"ddlStudentPayer\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in ddlStudentPayerList\" v-bind:value=\"{ id: item.OPTvalue.trim(), text: item.OPTvalue.trim() }\">{{ item.OPTvalue.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Student ID</label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentID\" readonly=\"readonly\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Intake Year</label>\r\n                    <select v-model=\"ddlStudentIntakeYear\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in studentIntakeYearList\" v-bind:value=\"{ id: item.PK_PAI_ID.trim(), text: item.PAI_Intake_No.trim() }\">{{ item.PAI_Intake_No.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 studentAreaDiv\">\r\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                    <h2>Student Permanent Address</h2>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Address 1</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentAddress1\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Address 2</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentAddress2\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Address 3</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentAddress3\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>City</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentCity\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Country</label>\r\n                    <select v-model=\"ddlStudentAddressCountry\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in countryList\" v-bind:value=\"{ id: item.CNYnationality.trim(), text: item.CNYname.trim() }\">{{ item.CNYname.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Postal Code</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentPostalCode\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 studentAreaDiv\">\r\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                    <h2>Student Correspondance Address</h2>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Address 1</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentCorrespondanceAddress1\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Address 2</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentCorrespondanceAddress2\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Address 3</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentCorrespondanceAddress3\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>City</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentCorrespondanceCity\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Country</label>\r\n                    <select v-model=\"ddlStudentAddressCorrespondanceCountry\" class=\"form-control pro-edt-select form-control-primary\">\r\n                        <option v-for=\"item in countryList\" v-bind:value=\"{ id: item.CNYnationality.trim(), text: item.CNYname.trim() }\">{{ item.CNYname.trim() }}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Postal Code</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentCorrespondancePostalCode\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Mobile No</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentMobileNo\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Home Tel No</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentOfficeTelNo\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Email</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputStudentEmail\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 studentAreaDiv\">\r\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                    <h2>Medical Details</h2>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Major Ailments List</label>\r\n                    <textarea rows=\"3\" style=\"width:100%;resize:none;\" v-model=\"taMajorAilmentsList\"></textarea>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Medication Allergies List</label>\r\n                    <textarea rows=\"3\" style=\"width:100%;resize:none;\" v-model=\"taMedicationAllergiesList\"></textarea>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Blood Group</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputBloodGroup\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Blood Donor No</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputBloodDonorNo\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Name of Family Doctor</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputNameofFamilyDoctor\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Clinic Address</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputClinicAddress\">\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                    <label>Clinic Phone No</label>\r\n                    <input type=\"text\" class=\"form-control\"  v-model=\"inputClinicPhoneNo\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n            <div class=\"review-content-section\">\r\n                <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 familyIDAreaDiv\">\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Family No</label>\r\n                        <input type=\"text\" class=\"form-control\" v-model=\"inputFamilyID\" readonly=\"readonly\">\r\n                        <input type=\"text\" class=\"form-control\" v-model=\"inputFamilyParentID\" style=\"display:none;\" >\r\n                    </div>\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label style=\"width:100%;\">Search Family</label>\r\n                        <button v-bind:disabled=\"editModeDisable\" type=\"button\" class=\"btn btn-primary waves-effect waves-light m-r-10\" data-toggle=\"modal\" data-backdrop=\"static\" data-keyboard=\"false\" data-target=\"#myModal\" style=\"display:block;\" id=\"btnSearchFamilyID\">Search</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 parentAreaDiv\">\r\n                    <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                        <h2>Father's Details</h2>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Parent Mode</label>\r\n                        <select v-model=\"ddlParentMode\" v-bind:disabled=\"editModeDisable\" class=\"form-control pro-edt-select form-control-primary\">\r\n                            <option v-for=\"item in ddlParentModeList\" v-bind:value=\"{ id: item.OPTvalue.trim(), text: item.OPTvalue.trim() }\">{{ item.OPTvalue.trim() }}</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>First Name</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherFirstName\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Middle Name</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherMiddleName\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Last Name</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherLastName\" v-bind:disabled=\"editModeDisable\">\r\n                        <label id = \"lblFatherNameDuplicated\" style=\"display:none;\">Father name is duplicated, please double confirm</label>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Date of Birth</label>\r\n                        <div class=\"date\">\r\n                            <el-date-picker v-model=\"inputFatherDateofBirth\" v-bind:disabled=\"editModeDisable\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a day\"></el-date-picker>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Occupation</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherOccupation\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Identification Type</label>\r\n                        <select v-model=\"ddlFatherIdentificationType\" v-bind:disabled=\"editModeDisable\" class=\"form-control pro-edt-select form-control-primary\">\r\n                            <option v-for=\"item in ddlFatherIdentificationTypeList\" v-bind:value=\"{ id: item.OPTvalue.trim(), text: item.OPTvalue.trim() }\">{{ item.OPTvalue.trim() }}</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Identification No</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherIdentificationNo\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Identification No Expiry Date</label>\r\n                        <div class=\"date\">\r\n                            <el-date-picker v-model=\"inputFatherIdentificationNoExpiryDate\" v-bind:disabled=\"editModeDisable\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a day\"></el-date-picker>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Mobile No</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherMobileNo\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Email</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputFatherEmail\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 parentAreaDiv\">\r\n                    <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                        <h2>Mother's Details</h2>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>First Name</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputMotherFirstName\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Middle Name</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputMotherMiddleName\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Last Name</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputMotherLastName\" v-bind:disabled=\"editModeDisable\">\r\n                        <label id = \"lblMotherNameDuplicated\" style=\"display:none;\">Mother name is duplicated, please double confirm</label>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Date of Birth</label>\r\n                        <div class=\"date\">\r\n                            <el-date-picker v-model=\"inputMotherDateofBirth\" v-bind:disabled=\"editModeDisable\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a day\"></el-date-picker>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Occupation</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputMotherOccupation\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Identification Type</label>\r\n                        <select v-model=\"ddlMotherIdentificationType\" v-bind:disabled=\"editModeDisable\" class=\"form-control pro-edt-select form-control-primary\">\r\n                            <option v-for=\"item in ddlMotherIdentificationTypeList\" v-bind:value=\"{ id: item.OPTvalue.trim(), text: item.OPTvalue.trim() }\">{{ item.OPTvalue.trim() }}</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Identification No</label>\r\n                        <input type=\"text\" class=\"form-control\" v-model=\"inputMotherIdentificationNo\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Identification No Expiry Date</label>\r\n                        <div class=\"date\">\r\n                            <el-date-picker v-model=\"inputMotherIdentificationNoExpiryDate\" v-bind:disabled=\"editModeDisable\" format=\"dd/MM/yyyy\" value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a day\"></el-date-picker>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Mobile No</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputMotherMobileNo\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Email</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputMotherEmail\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"row col-lg-12 col-md-12 col-sm-12 col-xs-12 parentAreaDiv\">\r\n                    <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                        <h2>Residential/Billing Address</h2>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Address 1</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputParentAddress1\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Address 2</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputParentAddress2\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Address 3</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputParentAddress3\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>City</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputParentCity\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Landline No</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputParentLandlineNo\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Country</label>\r\n                        <select v-model=\"ddlParentCountry\" v-bind:disabled=\"editModeDisable\" class=\"form-control pro-edt-select form-control-primary\">\r\n                            <option v-for=\"item in countryList\" v-bind:value=\"{ id: item.CNYnationality.trim(), text: item.CNYname.trim() }\">{{ item.CNYname.trim() }}</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                        <label>Postal Code</label>\r\n                        <input type=\"text\" class=\"form-control\"  v-model=\"inputParentPostalCode\" v-bind:disabled=\"editModeDisable\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n            <div class=\"text-center mg-b-pro-edt custom-pro-edt-ds\">\r\n                <button type=\"button\" ID=\"btnSave\" class=\"btn btn-primary waves-effect waves-light m-r-10\" v-on:click=\"Save\">Save</button>\r\n                <button type=\"button\" ID=\"btnActivate\" class=\"btn btn-primary waves-effect waves-light m-r-10\" style=\"display:none;\">Activate</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n    import DataSource from \"../data/datasource\";\r\n\r\n    export default {\r\n        name: \"Student\",\r\n        async created() {\r\n            await this.BindCountryList();\r\n            await this.BindStudentDropdown();\r\n            await this.BindStudentLevel();\r\n            await this.BindAcademicYear();\r\n            await this.BindStudentIntakeYear();\r\n        },\r\n        async mounted() {\r\n            await this.LoadStudentParentInfo();\r\n        },\r\n        data() {\r\n            return {\r\n                countryList: [],\r\n                ddlStudentIdentificationTypeList: [],\r\n                ddlStudentReligionList: [],\r\n                ddlStudentAdditionalLanguageList: [],\r\n                ddlStudentMealPreferencesList: [],\r\n                ddlStudentMembershipList: [],\r\n                ddlStudentResidencyStatusList: [],\r\n                ddlStudentPayerList: [],\r\n                ddlFatherIdentificationTypeList: [],\r\n                ddlMotherIdentificationTypeList: [],\r\n                ddlParentModeList: [],\r\n                levelList: [],\r\n                academicYearList: [],\r\n                studentIntakeYearList: [],\r\n\r\n                inputStudentDateOfBirth: '',\r\n                inputFatherDateofBirth: '',\r\n                inputStudentIdentificationExpiryDate: '',\r\n                inputFirstCommencementDate: '',\r\n                inputFatherIdentificationNoExpiryDate: '',\r\n                inputMotherDateofBirth: '',\r\n                inputMotherIdentificationNoExpiryDate: '',\r\n                ddlStudentGender: '',\r\n                inputStudentFirstName: '',\r\n                inputStudentMiddleName: '',\r\n                inputStudentLastName: '',\r\n                inputStudentPreferredName: '',\r\n                ddlStudentNationality: '',\r\n                ddlStudentBirthPlace: '',\r\n                inputStudentIdentificationNo: '',\r\n                inputStudent1stEmergencyContactNo: '',\r\n                inputStudent2ndEmergencyContactNo: '',\r\n                inputStudentFirstLanguageSpoken: '',\r\n                inputSecondLanguageSpoken: '',\r\n                ddlStudentSelectLevel: '',\r\n                ddlStudentFirstAcademicYear: '',\r\n                inputStudentID: '',\r\n                ddlStudentIntakeYear: '',\r\n                inputStudentAddress1: '',\r\n                inputStudentAddress2: '',\r\n                inputStudentAddress3: '',\r\n                inputStudentCity: '',\r\n                inputStudentPostalCode: '',\r\n                inputStudentCorrespondanceAddress1: '',\r\n                inputStudentCorrespondanceAddress2: '',\r\n                inputStudentCorrespondanceAddress3: '',\r\n                inputStudentCorrespondanceCity: '',\r\n                ddlStudentAddressCorrespondanceCountry: '',\r\n                inputStudentCorrespondancePostalCode: '',\r\n                inputStudentMobileNo: '',\r\n                inputStudentOfficeTelNo: '',\r\n                inputStudentEmail: '',\r\n                taMajorAilmentsList: '',\r\n                taMedicationAllergiesList: '',\r\n                inputBloodGroup: '',\r\n                inputBloodDonorNo: '',\r\n                inputNameofFamilyDoctor: '',\r\n                inputClinicAddress: '',\r\n                inputClinicPhoneNo: '',\r\n                inputFamilyID: '',\r\n                inputFamilyParentID: '',\r\n                inputFatherFirstName: '',\r\n                inputFatherMiddleName: '',\r\n                inputFatherLastName: '',\r\n                inputFatherOccupation: '',\r\n                inputFatherIdentificationNo: '',\r\n                inputFatherMobileNo: '',\r\n                inputFatherEmail: '',\r\n                inputMotherFirstName: '',\r\n                inputMotherMiddleName: '',\r\n                inputMotherLastName: '',\r\n                inputMotherOccupation: '',\r\n                inputMotherIdentificationNo: '',\r\n                inputMotherMobileNo: '',\r\n                inputMotherEmail: '',\r\n                inputParentAddress1: '',\r\n                inputParentAddress2: '',\r\n                inputParentAddress3: '',\r\n                inputParentCity: '',\r\n                inputParentLandlineNo: '',\r\n                ddlParentCountry: '',\r\n                inputParentPostalCode: '',\r\n                ddlStudentAddressCountry: '',\r\n                ddlStudentIdentificationType: '',\r\n                ddlStudentReligion: '',\r\n                ddlStudentAdditionalLanguage: '',\r\n                ddlStudentMealPreferences: '',\r\n                ddlStudentMembership: '',\r\n                ddlStudentResidencyStatus: '',\r\n                ddlStudentPayer: '',\r\n                ddlFatherIdentificationType: '',\r\n                ddlMotherIdentificationType: '',\r\n                ddlParentMode: '',\r\n\r\n                editModeDisable:'',\r\n                lblCreateOrEdit:'',\r\n                lblStudentID:'',\r\n                lblParentID: '',\r\n            };\r\n        },\r\n        methods: {\r\n            async BindCountryList() {\r\n                try {\r\n                    const response = await DataSource.shared.getCountryList();\r\n                    if (response) {\r\n                        this.countryListResponse = response.Table;\r\n                        this.countryListResponse.forEach(m => {\r\n                            this.countryList.push(m);\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindStudentDropdown() {\r\n                try {\r\n                    let jsonString = '\"Student Identification Type\":\"Student Identification Type\"';\r\n                    jsonString = jsonString + ',\"Religion\":\"Religion\"';\r\n                    jsonString = jsonString + ',\"Mother Tongue\":\"Mother Tongue\"';\r\n                    jsonString = jsonString + ',\"Meal Preferences\":\"Meal Preferences\"';\r\n                    jsonString = jsonString + ',\"Student Membership\":\"Student Membership\"';\r\n                    jsonString = jsonString + ',\"Residency Status\":\"Residency Status\"';\r\n                    jsonString = jsonString + ',\"Sponsorship Type\":\"Sponsorship Type\"';\r\n                    jsonString = jsonString + ',\"ParentID\":\"ParentID\"';\r\n                    jsonString = jsonString + ',\"Parent Mode\":\"Parent Mode\"';\r\n                    jsonString = \"{\" + jsonString + \"}\";\r\n\r\n                    const response = await DataSource.shared.getStudentDropDownList(jsonString);\r\n                    if (response) {\r\n                        this.studentDropDownListResponse = response.Table;\r\n                        this.studentDropDownListResponse.forEach(m => {\r\n\r\n                            if (m.OGPname.trim() === \"Student Identification Type\") {\r\n                                this.ddlStudentIdentificationTypeList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Religion') {\r\n                                this.ddlStudentReligionList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Mother Tongue') {\r\n                                this.ddlStudentAdditionalLanguageList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Meal Preferences') {\r\n                                this.ddlStudentMealPreferencesList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Student Membership') {\r\n                                this.ddlStudentMembershipList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Residency Status') {\r\n                                this.ddlStudentResidencyStatusList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Sponsorship Type') {\r\n                                this.ddlStudentPayerList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'ParentID') {\r\n                                this.ddlFatherIdentificationTypeList.push(m);\r\n                                this.ddlMotherIdentificationTypeList.push(m);\r\n                            }\r\n                            else if (m.OGPname.trim() === 'Parent Mode') {\r\n                                this.ddlParentModeList.push(m);\r\n                            }\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindStudentLevel() {\r\n                try {\r\n                    const response = await DataSource.shared.getLevel();\r\n                    if (response) {\r\n                        this.levelListResponse = response.Table;\r\n                        this.levelListResponse.forEach(m => {\r\n                            this.levelList.push(m);\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindAcademicYear() {\r\n                try {\r\n                    const response = await DataSource.shared.getAcademicYear();\r\n                    if (response) {\r\n                        this.academicYearListResponse = response.Table;\r\n                        this.academicYearListResponse.forEach(m => {\r\n                            this.academicYearList.push(m);\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindStudentIntakeYear() {\r\n                try {\r\n                    const response = await DataSource.shared.getIntakeYear();\r\n                    if (response) {\r\n                        this.studentIntakeYearListResponse = response.Table;\r\n                        this.studentIntakeYearListResponse.forEach(m => {\r\n                            this.studentIntakeYearList.push(m);\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async LoadStudentParentInfo() {\r\n                try {\r\n                    if (this.$route.query.id != null)\r\n                    {\r\n                        this.lblCreateOrEdit = \"Edit\";\r\n                        this.lblStudentID = this.$route.query.id;\r\n                        this.editModeDisable = true;\r\n\r\n                        const response = await DataSource.shared.getStudent(this.$route.query.id, \"\", \"\", \"\", \"\");\r\n\r\n                        if (response)\r\n                        {\r\n\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        this.lblCreateOrEdit = \"New\";\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async Save() {\r\n                try {\r\n                    //students\r\n                    let jsonString = '\"Full_Name\":\"' + this.inputStudentFirstName + '\"';\r\n                    jsonString = jsonString + ',\"Middle_name\":\"' + this.inputStudentMiddleName + '\"';\r\n                    jsonString = jsonString + ',\"Last_name\":\"' + this.inputStudentLastName + '\"';\r\n                    jsonString = jsonString + ',\"Sex\":\"' + this.ddlStudentGender + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_flrNo\":\"' + this.inputStudentCorrespondanceAddress1 + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_blkNo\":\"' + this.inputStudentCorrespondanceAddress2 + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_stName\":\"' + this.inputStudentCorrespondanceCity + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_pstcode\":\"' + this.inputStudentCorrespondancePostalCode + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_pstcode\":\"' + this.inputStudentPostalCode + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_blkNo\":\"' + this.inputStudentAddress1 + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_flrNo\":\"' + this.inputStudentAddress2 + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_BlgName\":\"' + this.inputStudentAddress3 + '\"';\r\n                    jsonString = jsonString + ',\"DOB\":\"' + this.inputStudentDateOfBirth + '\"';\r\n                    jsonString = jsonString + ',\"St_Religion\":\"' + this.ddlStudentReligion.id + '\"';\r\n                    jsonString = jsonString + ',\"Nationality\":\"' + this.ddlStudentNationality.id + '\"';\r\n                    jsonString = jsonString + ',\"Regst_date\":\"' + this.inputFirstCommencementDate + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_country\":\"' + this.ddlStudentAddressCountry.id + '\"';\r\n                    jsonString = jsonString + ',\"Handphone\":\"' + this.inputStudentMobileNo + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_BlgName\":\"' + this.inputStudentCorrespondanceAddress3 + '\"';\r\n                    jsonString = jsonString + ',\"student_type\":\"' + this.ddlStudentResidencyStatus.id + '\"';\r\n                    jsonString = jsonString + ',\"sponsor_type\":\"' + this.ddlStudentPayer.id + '\"';\r\n                    jsonString = jsonString + ',\"ID_Type\":\"' + this.ddlStudentIdentificationType.id + '\"';\r\n                    jsonString = jsonString + ',\"ID_Number\":\"' + this.inputStudentIdentificationNo + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_stName\":\"' + this.inputStudentCity + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_country\":\"' + this.ddlStudentAddressCorrespondanceCountry.id + '\"';\r\n                    jsonString = jsonString + ',\"Fax\":\"' + this.inputStudent2ndEmergencyContactNo + '\"';\r\n                    jsonString = jsonString + ',\"email\":\"' + this.inputStudentEmail + '\"';\r\n                    jsonString = jsonString + ',\"Telephone\":\"' + this.inputStudent1stEmergencyContactNo + '\"';\r\n                    jsonString = jsonString + ',\"Offphone\":\"' + this.inputStudentOfficeTelNo + '\"';\r\n                    jsonString = jsonString + ',\"Course_Type\":\"' + this.ddlStudentSelectLevel + '\"';\r\n                    jsonString = jsonString + ',\"Family_Doctor\":\"' + this.inputNameofFamilyDoctor + '\"';\r\n                    jsonString = jsonString + ',\"Ailments\":\"' + this.taMajorAilmentsList + '\"';\r\n                    jsonString = jsonString + ',\"medication_allergic_to\":\"' + this.taMedicationAllergiesList + '\"';\r\n                    jsonString = jsonString + ',\"BLD_grp\":\"' + this.inputBloodGroup + '\"';\r\n                    jsonString = jsonString + ',\"BLD_donor_no\":\"' + this.inputBloodDonorNo + '\"';\r\n                    jsonString = jsonString + ',\"clinic_add\":\"' + this.inputClinicAddress + '\"';\r\n                    jsonString = jsonString + ',\"clinic_ph_no\":\"' + this.inputClinicPhoneNo + '\"';\r\n                    jsonString = jsonString + ',\"Semester\":\"' + this.ddlStudentFirstAcademicYear.id + '\"';\r\n                    jsonString = jsonString + ',\"St_Preferred_Name\":\"' + this.inputStudentPreferredName + '\"';\r\n                    jsonString = jsonString + ',\"St_Mother_Tongue\":\"' + this.ddlStudentAdditionalLanguage.id + '\"';\r\n                    jsonString = jsonString + ',\"St_Meal_Preferences\":\"' + this.ddlStudentMealPreferences.id + '\"';\r\n                    jsonString = jsonString + ',\"St_Birth_Place\":\"' + this.ddlStudentBirthPlace.id + '\"';\r\n                    jsonString = jsonString + ',\"St_AdditionalLanguage\":\"' + this.inputStudentFirstLanguageSpoken + '\"';\r\n                    jsonString = jsonString + ',\"St_SecondLanguageSpoken\":\"' + this.inputSecondLanguageSpoken + '\"';\r\n                    jsonString = jsonString + ',\"ST_StudentMemership\":\"' + this.ddlStudentMembership.id + '\"';\r\n                    jsonString = jsonString + ',\"ID_ExpDate\":\"' + this.inputStudentIdentificationExpiryDate + '\"';\r\n                    //students\r\n\r\n                    //parent\r\n                    let jsonString2 = '\"PAR_Mode\":\"' + this.ddlParentMode.id + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_FirstName\":\"' + this.inputFatherFirstName + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_MiddleName\":\"' + this.inputFatherMiddleName + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_LastName\":\"' + this.inputFatherLastName + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_DOB\":\"' + this.inputFatherDateofBirth + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Occupation\":\"' + this.inputFatherOccupation + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_FatResContact\":\"' + this.inputParentLandlineNo  + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Phone\":\"' + this.inputFatherMobileNo + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Email\":\"' + this.inputFatherEmail + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_IDType\":\"' + this.ddlFatherIdentificationType.id + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_UID\":\"' + this.inputFatherIdentificationNo + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Residence_No\":\"' + this.inputParentAddress1 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Address1\":\"' + this.inputParentAddress2 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Address2\":\"' + this.inputParentAddress3 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Postalcode\":\"' + this.inputParentPostalCode + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Loc_City\":\"' + this.inputParentCity + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Loc_Country\":\"' + this.ddlParentCountry + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_City\":\"' + this.inputParentCity + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_Country\":\"' + this.ddlParentCountry.id + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_PostalCode\":\"' + this.inputParentPostalCode + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_FirstName\":\"' + this.inputMotherFirstName + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_MiddleName\":\"' + this.inputMotherMiddleName + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_LastName\":\"' + this.inputMotherLastName + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_DOB\":\"' + this.inputMotherDateofBirth + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Occupation\":\"' + this.inputMotherOccupation + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_MotResContact\":\"' + this.inputParentLandlineNo + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Phone\":\"' + this.inputMotherMobileNo + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Email\":\"' + this.inputMotherEmail + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_IDType\":\"' + this.ddlMotherIdentificationType.id + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_UID\":\"' + this.inputMotherIdentificationNo + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Residence_No\":\"' + this.inputParentAddress1 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Address1\":\"' + this.inputParentAddress2 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Address2\":\"' + this.inputParentAddress3 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_City\":\"' + this.inputParentCity + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Country\":\"' + this.ddlParentCountry.id + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Loc_Postalcode\":\"' + this.inputParentPostalCode + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_City\":\"' + this.inputParentCity + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_Country\":\"' + this.ddlParentCountry + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_PostalCode\":\"' + this.inputParentPostalCode + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_GarResContact\":\"' + this.inputParentLandlineNo + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_Residence_No\":\"' + this.inputParentAddress1 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_City\":\"' + this.inputParentAddress1 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_Country\":\"' + this.inputParentAddress2 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Loc_PostalCode\":\"' + this.inputParentAddress3 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Residence_No\":\"' + this.inputParentAddress1 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Address1\":\"' + this.inputParentAddress2 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Address2\":\"' + this.inputParentAddress3 + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_City\":\"' + this.inputParentCity + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Country\":\"' + this.ddlParentCountry.id + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Guardian_Postalcode\":\"' + this.inputParentPostalCode + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Father_IDExpDate\":\"' + this.inputFatherIdentificationNoExpiryDate + '\"';\r\n                    jsonString2 = jsonString2 + ',\"PAR_Mother_IDExpDate\":\"' + this.inputMotherIdentificationNoExpiryDate + '\"';\r\n                    //parent\r\n\r\n                    jsonString = '{ ' + jsonString + ' }'\r\n                    jsonString2 = '{ ' + jsonString2 + ' }'\r\n\r\n                    if (this.lblCreateOrEdit == \"New\")\r\n                    {\r\n                        const chkStuRes = await DataSource.shared.checkStudentDuplication(this.inputStudentFirstName, this.inputStudentLastName, this.inputStudentDateOfBirth, this.inputStudentIdentificationNo, this.ddlStudentIdentificationType.id);\r\n                        if (chkStuRes) {\r\n                            if (chkStuRes.code == \"1\")\r\n                            {\r\n                                const saveStuRes = await DataSource.shared.saveStudent(jsonString);\r\n                                if (chkStuRes) {\r\n                                    if (saveStuRes.code == \"1\")\r\n                                    {\r\n                                        let studentID = saveStuRes.studentID;\r\n\r\n                                        //parent\r\n                                        if (this.inputFamilyID == \"\")\r\n                                        {\r\n                                            const saveParRes = await DataSource.shared.saveParent(jsonString2, studentID);\r\n\r\n                                            if (saveParRes)\r\n                                            {\r\n                                                if (saveParRes.code != \"1\")\r\n                                                {\r\n                                                    alert('Save Parent Error - Please try again later');\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        else\r\n                                        {\r\n                                            const saveParRes = await DataSource.shared.saveParentWithFamilyID(this.inputFamilyParentID, studentID);\r\n\r\n                                            if (saveParRes)\r\n                                            {\r\n                                                if (saveParRes.code != \"1\")\r\n                                                {\r\n                                                    alert('Save Parent With Family ID Error - Please try again later');\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        //parent\r\n\r\n                                        //set level\r\n                                        const getAcaYearRes = await DataSource.shared.getAcademicYearDateRange(this.ddlStudentFirstAcademicYear.id);\r\n\r\n                                        if (getAcaYearRes)\r\n                                        {\r\n                                            if (getAcaYearRes.code == \"99\")\r\n                                            {\r\n                                                alert('Get Academic Year Error - Please try again later');\r\n                                            }\r\n                                            else\r\n                                            {\r\n                                                let academicYearFromDate, academicYearToDate;\r\n\r\n                                                this.getAcaYearResTemp = getAcaYearRes.Table;\r\n                                                this.getAcaYearResTemp.forEach(m => {\r\n                                                    academicYearFromDate = m.SMT_From;\r\n                                                    academicYearToDate = m.SMT_To;\r\n                                                });\r\n\r\n                                                const getSetLvlRes = await DataSource.shared.setLevel(studentID, this.ddlStudentSelectLevel.id, academicYearFromDate, academicYearToDate, this.ddlStudentFirstAcademicYear.id, this.ddlStudentIntakeYear.id);\r\n\r\n                                                if (getSetLvlRes)\r\n                                                {\r\n                                                    if (getSetLvlRes.code == \"1\")\r\n                                                    {\r\n                                                        this.$router.push('Student?id=' + studentID);\r\n                                                    }\r\n                                                    else\r\n                                                    {\r\n                                                        alert('Save Student Level Error - Please try again later');\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        //set level\r\n                                    }\r\n                                    else\r\n                                    {\r\n                                        alert(\"Save Student Error - Please try again later\");\r\n                                    }\r\n                                }\r\n                            }\r\n                            else if (chkStuRes.code == \"2\")\r\n                            {\r\n                                alert(\"This student is existing\");\r\n                            }\r\n                            else\r\n                            {\r\n                                alert(\"Check Student Error - Please try again later\");\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (this.lblCreateOrEdit == \"Edit\")\r\n                    {\r\n                        //alert(JSON.stringify($(\"#student\")));\r\n                      //  this.$message(JSON.stringify($(\"#student\")))\r\n                    }\r\n                    else\r\n                    {\r\n                        this.$message(\"Error! Please try again later\")\r\n                    }\r\n\r\n                    //this.$message(this.ddlStudentNationality.id)\r\n                    //this.$message(this.ddlStudentGender)\r\n                    //console.log(jsonString)\r\n                    //console.log(jsonString2)\r\n                    //console.log(this.lblCreateOrEdit)\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.studentAreaDiv, .familyIDAreaDiv, .parentAreaDiv\r\n{\r\n    margin-bottom:50px;\r\n}\r\n</style>"]}]}