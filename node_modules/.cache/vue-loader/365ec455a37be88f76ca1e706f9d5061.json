{"remainingRequest":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\components\\Nav.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\components\\Nav.vue","mtime":1559113323833},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558432313812},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1553612671158},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558432313812},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1553612666995}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport DataSource from \"../data/datasource\";\nimport Cookies from \"js-cookie\";\n\nexport default {\n    name: 'navBar',\n    data() {\n        return {\n            // isLoading: true,\n            // token: null,\n            // isLoggedIn: null\n\n            schList: [],\n            schListCurrent: '',\n\n            schSession: Cookies.get('schoolSession'),\n            schoolListOpen: false,\n            isToken: Cookies.get('authToken'),\n        };\n    },\n    async created() {\n        await this.BindSchoolList();\n    },\n    methods: {\n        showSchoolList() {\n            this.schoolListOpen = true;\n        },\n        logout() {\n            DataSource.shared.logout();\n            this.logoutGoogle();\n            window.location.replace(\"/login\");\n        },\n        logoutGoogle() {\n            $.getScript('https://apis.google.com/js/platform.js', function () {\n                gapi.load(\"auth2\", () => {\n                    gapi.auth2.init({\n                        client_id: \"646978523324-lcudp248dvuuk0rda4q6kf2bti9qkk3b.apps.googleusercontent.com\"\n                    }).then((auth2) => {\n                        auth2.signOut();\n                        console.log(\"Google Logout\");\n                    });\n                });\n            });\n        },\n        isMobile() {\n            if (screen.width <= 770) {\n                return true;\n            } else {\n                return false;\n            }\n        },\n        async BindSchoolList() {\n            try {\n                const response = await DataSource.shared.getUserSch();\n                if (response) {\n                    //this.schList = response;\n\n                    // for (const item in response) {\n                    //     this.schList.push(item);\n                    // }\n\n                    this.schListResponse = response.Table;\n                    this.schListResponse.forEach(m => {\n                        this.schList.push(m);\n                    });\n\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async ChangeSchool(value) {\n            try {\n                //Cookies.set('schoolSession', value);\n                //window.location.replace('/');\n\n                this.schList.forEach(m => {\n                    if (m.CONSchool === value) {\n                        Cookies.set('schoolSession', m.CONSchool, {expires: 3 / 24}); //expire in 3 hour\n                        Cookies.set('userIDSession', m.CONid, {expires: 3 / 24}); //expire in 3 hour\n                        Cookies.set('userTypeSession', m.CONType, {expires: 3 / 24}); //expire in 3 hour\n                        Cookies.set('userUniversitySession', m.CONUniversity, {expires: 3 / 24}); //expire in 3 hour\n                        Cookies.set('usRidSession', m.USRid, {expires: 3 / 24}); //expire in 3 hour\n                        window.location.replace('/');\n                    }\n                });\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        guidedTour(value) {\n            if (value === 'HowToCreateNewStudent') {\n                // this.$router.push({\n                //     name: 'Student',\n                //     params: {\n                //         guidedTour: 'YES'\n                //     }\n                // });\n\n                //var currentUrl = window.location.pathname;\n\n                window.location.replace('/student?tour=YES');\n            }\n        }\n    }\n    // mounted() {\n    //     const isLogin = Cookies.get('authToken');\n    //     if (this.$route.path !== \"/login\" && (!isLogin || isLogin === \"null\")) {\n    //         this.$router.push('/login');\n    //     } else if (isLogin) {\n    //         this.isLoggedIn = true;\n    //         setTimeout(this.warningLogout, 10800); // 3 hours\n    //     }\n    //     this.isLoading = false;\n    // },\n};\n",{"version":3,"sources":["Nav.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Nav.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"row nabarx topbar\">\r\n        <div class=\"col-md-12 col-lg-4 text-left\">\r\n            <a href=\"/\"> <img src=\"../assets/kagami-white.png\"/></a>\r\n            {{$route.name}}\r\n        </div>\r\n        <div class=\"col-md-12 col-lg-8 info-menu\">\r\n            <!--<div class=\"input-group search\" v-if=\"!isMobile()\">-->\r\n                <!--<input type=\"text\" class=\"form-control\" placeholder=\"Search for...\">-->\r\n                <!--<span class=\"input-group-btn\">-->\r\n                    <!--<button class=\"btn btn-default\" type=\"button\"><i class=\"fa fa-search\"-->\r\n                                                                     <!--aria-hidden=\"true\"></i></button>-->\r\n                <!--</span>-->\r\n            <!--</div>-->\r\n            <!-- /input-group -->\r\n            <!--<li class=\"info-menu__item\">-->\r\n            <!--<a href=\"#\">-->\r\n            <!--<i class=\"fa fa-commenting\" aria-hidden=\"true\"></i>-->\r\n            <!--<span>Feedback</span>-->\r\n            <!--</a>-->\r\n            <!--</li>-->\r\n            <!--<li class=\"info-menu__item\">-->\r\n            <!--<a href=\"#\">-->\r\n            <!--<i class=\"fa fa-code-fork\" aria-hidden=\"true\"></i>-->\r\n            <!--<span>Timeline</span>-->\r\n            <!--</a>-->\r\n            <!--</li>-->\r\n            <!--<li class=\"info-menu__item\">-->\r\n            <!--<a href=\"#\">-->\r\n            <!--<i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>-->\r\n            <!--<span>Calendar</span>-->\r\n            <!--</a>-->\r\n            <!--</li>-->\r\n            <li class=\"info-menu__item\">\r\n                <!--<a class=\"a-icon\" href=\"#\" @click=\"showSchoolList()\">-->\r\n                <!--<i class=\"fa fa-university\" aria-hidden=\"true\"></i>-->\r\n                <!--<span>School List</span>-->\r\n                <!--</a>-->\r\n                <el-dropdown trigger=\"click\">\r\n                    <a class=\"el-dropdown-link\">\r\n                        <i class=\"fa fa-university\" aria-hidden=\"true\"></i>\r\n                        <span>School List</span>\r\n                    </a>\r\n                    <el-dropdown-menu slot=\"dropdown\" class=\"nav-dropdown\">\r\n                        <el-dropdown-item icon=\"el-icon-plus\" v-for=\"item in schList\" :class=\"{ 'active': item.CONSchool.trim() === schSession }\">\r\n                            <a @click=\"ChangeSchool(item.CONSchool.trim())\" v-bind:value=\"item.CONSchool.trim()\" >{{ item.SCH_Name.trim() }}</a>\r\n                            <!--<i v-if=\"item.CONSchool.trim() === schSession\" class=\"fa fa-check-square\"-->\r\n                                    <!--aria-hidden=\"true\"></i>-->\r\n                        </el-dropdown-item>\r\n                    </el-dropdown-menu>\r\n                </el-dropdown>\r\n\r\n                <!--<vs-popup id=\"schoolListModal\" class=\"holamundo\" title=\"Select School \" :active.sync=\"schoolListOpen\">-->\r\n                    <!--<ul v-model=\"schListCurrent\">-->\r\n                        <!--<li v-for=\"item in schList\">-->\r\n                            <!--<span v-on:click=\"ChangeSchool(item.CONSchool.trim())\" v-bind:value=\"item.CONSchool.trim()\">{{ item.SCH_Name.trim() }} <i-->\r\n                                    <!--v-if=\"item.CONSchool.trim() === schSession\" class=\"fa fa-check-square\"-->\r\n                                    <!--aria-hidden=\"true\"></i></span>-->\r\n                        <!--</li>-->\r\n                    <!--</ul>-->\r\n                <!--</vs-popup>-->\r\n                <!--<vs-dropdown>-->\r\n                    <!--<vs-dropdown-menu v-model=\"schListCurrent\">-->\r\n                        <!--<vs-dropdown-item v-for=\"(key, value) in schList\">-->\r\n                            <!--<span v-on:click=\"ChangeSchool(value)\" v-bind:value=value>{{ key }} <i-->\r\n                                    <!--v-if=\"value === schSession\" class=\"fa fa-check-square\"-->\r\n                                    <!--aria-hidden=\"true\"></i></span>-->\r\n                        <!--</vs-dropdown-item>-->\r\n                        <!--<vs-dropdown-item v-for=\"item in schList\">-->\r\n                <!--<span v-on:click=\"ChangeSchool(item.CONSchool.trim())\" v-bind:value=\"item.CONSchool.trim()\">{{ item.SCH_Name.trim() }} <i-->\r\n                        <!--v-if=\"item.CONSchool.trim() === schSession\" class=\"fa fa-check-square\"-->\r\n                        <!--aria-hidden=\"true\"></i></span>-->\r\n                        <!--</vs-dropdown-item>-->\r\n                    <!--</vs-dropdown-menu>-->\r\n                <!--</vs-dropdown>-->\r\n            </li>\r\n            <li class=\"info-menu__item\">\r\n                <!--<vs-dropdown class=\"CSTEST\">-->\r\n                <!--<a class=\"a-icon\" href=\"#\">-->\r\n                <!--<i class=\"fa fa-life-ring\" aria-hidden=\"true\"></i>-->\r\n                <!--<span>Guided Tour</span>-->\r\n                <!--</a>-->\r\n                <!--<vs-dropdown-menu>-->\r\n                <!--<vs-dropdown-item>-->\r\n                <!--<span @click=\"guidedTour('HowToCreateNewStudent')\">How to create new student</span>-->\r\n                <!--</vs-dropdown-item>-->\r\n                <!--</vs-dropdown-menu>-->\r\n                <!--</vs-dropdown>-->\r\n                <el-dropdown trigger=\"click\" class=\"CSTEST\">\r\n                    <a class=\"el-dropdown-link\">\r\n                        <i class=\"fa fa-life-ring\" aria-hidden=\"true\"></i>\r\n                        <span>Guided Tour</span>\r\n                    </a>\r\n                    <el-dropdown-menu slot=\"dropdown\" class=\"nav-dropdown\">\r\n                        <el-dropdown-item icon=\"el-icon-plus\" >\r\n                            <a @click=\"guidedTour('HowToCreateNewStudent')\"> How to create new student</a>\r\n                        </el-dropdown-item>\r\n                    </el-dropdown-menu>\r\n                </el-dropdown>\r\n            </li>\r\n            <li class=\"info-menu__item\">\r\n                <!--<vs-dropdown>-->\r\n                <!--<a class=\"a-icon\" href=\"#\">-->\r\n                <!--<i class=\"fa fa-user-circle\" aria-hidden=\"true\"></i>-->\r\n                <!--<span>Account</span>-->\r\n                <!--</a>-->\r\n                <!--<vs-dropdown-menu>-->\r\n                <!--<vs-dropdown-item>-->\r\n                <!--<span @click=\"logout\">Logout</span>-->\r\n                <!--</vs-dropdown-item>-->\r\n                <!--</vs-dropdown-menu>-->\r\n                <!--</vs-dropdown>-->\r\n                <el-dropdown trigger=\"click\">\r\n                    <a class=\"el-dropdown-link\">\r\n                        <i class=\"fa fa-user-circle\" aria-hidden=\"true\"></i>\r\n                        <span>Account</span>\r\n                    </a>\r\n                    <el-dropdown-menu slot=\"dropdown\" class=\"nav-dropdown\">\r\n                        <el-dropdown-item icon=\"el-icon-plus\" >\r\n                            <a @click=\"logout\">Logout</a>\r\n                        </el-dropdown-item>\r\n                    </el-dropdown-menu>\r\n                </el-dropdown>\r\n            </li>\r\n        </div>\r\n        <!--<b-modal id=\"schoolListModal\" hide-footer title=\"Select School \" v-model=\"schoolListOpen\">-->\r\n        <!--<ul v-model=\"schListCurrent\">-->\r\n        <!--<li v-for=\"item in schList\">-->\r\n        <!--<span v-on:click=\"ChangeSchool(item.CONSchool.trim())\" v-bind:value=\"item.CONSchool.trim()\">{{ item.SCH_Name.trim() }} <i-->\r\n        <!--v-if=\"item.CONSchool.trim() === schSession\" class=\"fa fa-check-square\"-->\r\n        <!--aria-hidden=\"true\"></i></span>-->\r\n        <!--</li>-->\r\n        <!--</ul>-->\r\n        <!--</b-modal>-->\r\n        <vs-popup id=\"schoolListModal\" class=\"holamundo\" title=\"Select School \" :active.sync=\"schoolListOpen\">\r\n            <ul v-model=\"schListCurrent\">\r\n                <li v-for=\"item in schList\">\r\n                            <span v-on:click=\"ChangeSchool(item.CONSchool.trim())\" v-bind:value=\"item.CONSchool.trim()\">{{ item.SCH_Name.trim() }} <i\r\n                                    v-if=\"item.CONSchool.trim() === schSession\" class=\"fa fa-check-square\"\r\n                                    aria-hidden=\"true\"></i></span>\r\n                </li>\r\n            </ul>\r\n        </vs-popup>\r\n    </div>\r\n</template>\r\n<script>\r\n    import DataSource from \"../data/datasource\";\r\n    import Cookies from \"js-cookie\";\r\n\r\n    export default {\r\n        name: 'navBar',\r\n        data() {\r\n            return {\r\n                // isLoading: true,\r\n                // token: null,\r\n                // isLoggedIn: null\r\n\r\n                schList: [],\r\n                schListCurrent: '',\r\n\r\n                schSession: Cookies.get('schoolSession'),\r\n                schoolListOpen: false,\r\n                isToken: Cookies.get('authToken'),\r\n            };\r\n        },\r\n        async created() {\r\n            await this.BindSchoolList();\r\n        },\r\n        methods: {\r\n            showSchoolList() {\r\n                this.schoolListOpen = true;\r\n            },\r\n            logout() {\r\n                DataSource.shared.logout();\r\n                this.logoutGoogle();\r\n                window.location.replace(\"/login\");\r\n            },\r\n            logoutGoogle() {\r\n                $.getScript('https://apis.google.com/js/platform.js', function () {\r\n                    gapi.load(\"auth2\", () => {\r\n                        gapi.auth2.init({\r\n                            client_id: \"646978523324-lcudp248dvuuk0rda4q6kf2bti9qkk3b.apps.googleusercontent.com\"\r\n                        }).then((auth2) => {\r\n                            auth2.signOut();\r\n                            console.log(\"Google Logout\");\r\n                        });\r\n                    });\r\n                });\r\n            },\r\n            isMobile() {\r\n                if (screen.width <= 770) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            },\r\n            async BindSchoolList() {\r\n                try {\r\n                    const response = await DataSource.shared.getUserSch();\r\n                    if (response) {\r\n                        //this.schList = response;\r\n\r\n                        // for (const item in response) {\r\n                        //     this.schList.push(item);\r\n                        // }\r\n\r\n                        this.schListResponse = response.Table;\r\n                        this.schListResponse.forEach(m => {\r\n                            this.schList.push(m);\r\n                        });\r\n\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async ChangeSchool(value) {\r\n                try {\r\n                    //Cookies.set('schoolSession', value);\r\n                    //window.location.replace('/');\r\n\r\n                    this.schList.forEach(m => {\r\n                        if (m.CONSchool === value) {\r\n                            Cookies.set('schoolSession', m.CONSchool, {expires: 3 / 24}); //expire in 3 hour\r\n                            Cookies.set('userIDSession', m.CONid, {expires: 3 / 24}); //expire in 3 hour\r\n                            Cookies.set('userTypeSession', m.CONType, {expires: 3 / 24}); //expire in 3 hour\r\n                            Cookies.set('userUniversitySession', m.CONUniversity, {expires: 3 / 24}); //expire in 3 hour\r\n                            Cookies.set('usRidSession', m.USRid, {expires: 3 / 24}); //expire in 3 hour\r\n                            window.location.replace('/');\r\n                        }\r\n                    });\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            guidedTour(value) {\r\n                if (value === 'HowToCreateNewStudent') {\r\n                    // this.$router.push({\r\n                    //     name: 'Student',\r\n                    //     params: {\r\n                    //         guidedTour: 'YES'\r\n                    //     }\r\n                    // });\r\n\r\n                    //var currentUrl = window.location.pathname;\r\n\r\n                    window.location.replace('/student?tour=YES');\r\n                }\r\n            }\r\n        }\r\n        // mounted() {\r\n        //     const isLogin = Cookies.get('authToken');\r\n        //     if (this.$route.path !== \"/login\" && (!isLogin || isLogin === \"null\")) {\r\n        //         this.$router.push('/login');\r\n        //     } else if (isLogin) {\r\n        //         this.isLoggedIn = true;\r\n        //         setTimeout(this.warningLogout, 10800); // 3 hours\r\n        //     }\r\n        //     this.isLoading = false;\r\n        // },\r\n    };\r\n</script>\r\n<style>\r\n</style>"]}]}